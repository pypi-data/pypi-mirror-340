# Generated by Django 4.2.20 on 2025-04-14 09:44

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("django_app_metadata", "0002_alter_config_key"),
    ]

    operations = [
        migrations.AlterModelOptions(
            name="config",
            options={
                "permissions": [
                    ("can_export_configs", "允许导出配置项"),
                    ("set_enabled", "允许设置启用标记"),
                    ("set_disabled", "允许设置禁用标记"),
                    ("set_deleted", "允许设置删除标记"),
                    ("set_undeleted", "允许清除删除标记"),
                    ("set_published", "允许发布"),
                    ("set_unpublished", "允许回收"),
                ],
                "verbose_name": "配置项",
                "verbose_name_plural": "配置项",
            },
        ),
        migrations.AddField(
            model_name="config",
            name="data_file",
            field=models.FileField(
                blank=True,
                help_text="数据类型为文件时，本字段必填。",
                null=True,
                upload_to="django_app_metadata",
                verbose_name="关联文件",
            ),
        ),
        migrations.AlterField(
            model_name="category",
            name="title",
            field=models.CharField(max_length=64, unique=True, verbose_name="名称"),
        ),
        migrations.AlterField(
            model_name="config",
            name="deleted",
            field=models.BooleanField(default=False, verbose_name="删除状态"),
        ),
        migrations.AlterField(
            model_name="config",
            name="enabled",
            field=models.BooleanField(null=True, verbose_name="启用状态"),
        ),
        migrations.AlterField(
            model_name="config",
            name="is_valid",
            field=models.BooleanField(
                editable=False,
                help_text="这里显示的是上一次保存时的数据解析结果。保存时会自动更新该字段。",
                null=True,
                verbose_name="数据解析是否正确",
            ),
        ),
        migrations.AlterField(
            model_name="config",
            name="published",
            field=models.BooleanField(
                default=False,
                help_text="只有需要被前端接口调用的配置项，才需要设置为发布状态。",
                null=True,
                verbose_name="发布状态",
            ),
        ),
        migrations.AlterField(
            model_name="config",
            name="type",
            field=models.IntegerField(
                choices=[
                    (10, "YAML格式"),
                    (20, "JSON格式"),
                    (30, "字符串"),
                    (40, "数值型"),
                    (50, "文件"),
                ],
                default=10,
                verbose_name="数据类型",
            ),
        ),
        migrations.AlterField(
            model_name="config",
            name="unpublished_time",
            field=models.DateTimeField(blank=True, null=True, verbose_name="回收时间"),
        ),
    ]
