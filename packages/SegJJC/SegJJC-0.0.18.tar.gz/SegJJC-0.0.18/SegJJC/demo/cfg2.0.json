{
    "*****Part0*****": "##########################DefualtParams########################",
    "DefualtParams":
    {
        "*****Part0.1*****": "##########################Tasks########################",
        "ifmkdata": false,
        "iftrain": false,
        "ifexport": false,
        "iftest": true,
        "*****Part0.2*****": "##########################modeltype########################",
        "modeltype": "fcn",
        "###目前模型种类###": "###yolo、fcn、efficient###"
    },
    "*****Part1*****": "##########################MakeDataParams########################",
    "MakeDataParams":
    {
        "data_jsonpath": "D:\\ALLvision\\pycharmproject\\v8\\debug\\labeltry\\Data\\printer.json",
        "data_alldir": null
    },

    "*****Part2*****": "##########################TrainParams########################",
    "TrainParams":
    {
        "*****Part2.1*****": "##########################YOLOParams########################",
        "YOLOParams":
        {
            "modelpath": "yolov8n.yaml",
            "sahi_or_roi": null,
            "##sahi_or_roi##": "表示是否使用sahi或roi，值有：sahi、roi、sahiroi、roisahi依次分别表示单独开启sahi切图模式、单独roi模式、先sahi后roi、先roi后sahi",
            "##sahi_or_roi##": "null表示关闭则使用yolo默认推理，默认自带resize；如果没有这个参数名，则程序默认开启",
            "roi": null,
            "##roi##": "对于sahi或普通模式，roi训练：给一个roi，[x1,y1,x2,y2]:[300,300,512,512]，设置null为关闭",
            "roi_datadir": "E:\\ALLvision\\pycharmproject\\Efficientnet\\segjjc_clsseg_try\\sahi_preprocess\\1124\\out2",
            "##roi_datadir##": "给定一个roi处理后输出的数据集路径，代表并且代表使用该数据集进行训练，null为不开启，如果为roi模式，则会按datadir的mydata.yaml的同级路径下创建",
            "sahi_overlapratio": 0.25,
            "sahi_datadir": "E:\\ALLvision\\pycharmproject\\Efficientnet\\segjjc_clsseg_try\\sahi_preprocess\\1112\\out\\mydata2_sahi",
            "datadir": "E:\\ALLvision\\pycharmproject\\Efficientnet\\segjjc_clsseg_try\\sahi_preprocess\\1014\\try\\Data_pest\\mydata2\\mydata.yaml",
            "epochs": 1,
            "batch": 2,
            "imgsz": 256,
            "patience": 0,
            "device": "None",
            "resume": false,
            "save_dir": "E:\\ALLvision\\pycharmproject\\Efficientnet\\segjjc_clsseg_try\\sahi_preprocess\\1124\\out\\yoloout",
            "workers": 0,
            "amp": false,
            "save_period": -1,
            "optimizer": "auto",
            "seed": 0,
            "cos_lr": false,
            "close_mosaic": 10,
            "do_testimg": true,
            "Trainparams":"##################Hyperparameters################## ",
            "lr0": 0.01,
            "lrf": 0.01,
            "momentum": 0.937,
            "weight_decay": 0.0005,
            "warmup_epochs": 3.0,
            "warmup_momentum": 0.8,
            "warmup_bias_lr": 0.1,
            "box": 7.5,
            "cls": 0.5,
            "dfl": 1.5,
            "pose": 12.0,
            "kobj": 1.0,
            "label_smoothing": 0.0 ,
            "nbs": 64 ,
            "hsv_h": 0.015 ,
            "hsv_s": 0.7 ,
            "hsv_v": 0.4 ,
            "degrees": 0.0 ,
            "translate": 0.1 ,
            "scale": 0.5 ,
            "shear": 0.0 ,
            "perspective": 0.0 ,
            "flipud": 0.0 ,
            "fliplr": 0.5 ,
            "bgr": 0.0 ,
            "mosaic": 1.0 ,
            "mixup": 0.0 ,
            "copy_paste": 0.0 ,
            "auto_augment": "randaugment",
            "erasing": 0.4,
            "crop_fraction": 1.0
        },
        "*****Part2.2*****": "##########################FCNParams########################",
        "FCNParams":
        {
            "data_yaml_dir": "E:\\ALLvision\\pycharmproject\\yoloseg\\traintry\\data\\Data_seg\\mydata.yaml",
            "save_dir":"E:\\ALLvision\\pycharmproject\\pvk\\infer\\seg_rd100\\sahi\\train\\out",
            "arch":"fcn_resnet18",
            "###arch模型名称，目前支持":"fcn_resnet18/34/50/101、deeplabv3_resnet18/34/50/101",
            "###arch模型名称，目前支持":"、deeplabv3_mobilenet_v3_large、lraspp_mobilenet_v3_large",
            "device":null,
            "batch_size": 2,
            "epochs": 5,
            "imgsz": [256,256],
            "pretrained_model": null,
            "resume": false,
            "##sahi##": "是否使用sahi，true/false;'sahitrain_batch'为切图后实际推理batch,如设置为null则直接切多少张推多少张;'overlap_ratio'切图重叠率",
            "sahi": true,
            "sahitrain_batch": 8,
            "overlap_ratio": 0.2,
            "amp": false,
            "traininfo_printepoch": 10,
            "crop_size": null,
            "aux": true,
            "lr": 0.01,
            "momentum": 0.9,
            "weight_decay": 5e-4
        },
        "*****Part2.3*****": "######################EfficientNetParams###################",
        "EfficientNetParams":
        {
            "datadir":"E:\\ALLvision\\pycharmproject\\Efficientnet\\imagenet10",
            "save_dir": "E:\\ALLvision\\pycharmproject\\yoloseg\\try\\826\\efficientout",
            "arch": "alexnet",
            "###上述为模型型号，目前支持###":"###efficientnet-b0到b8以及bl2###",
            "###上述为模型型号，目前支持###":"###resnet18、34、50、101、152、wide_resnet50_2、wide_resnet101_2###",
            "###上述为模型型号，目前支持###":"###vgg11/vgg11_bn、13/13_bn、16/16_bn、19/19_bn###",
            "workers": 4,
            "epochs": 50,
            "start_epoch": 0,
            "batch_size": 2,
            "lr": 0.01,
            "lr_scheduler": "step",
            "momentum": 0.9,
            "weight_decay": 1e-4,
            "traininfo_printepoch": null,
            "resume": true,
            "resume_model": "E:\\ALLvision\\pycharmproject\\yoloseg\\try\\826\\efficientout\\Efficientrain10\\weights\\last.pth",
            "pretrained_model":"E:\\ALLvision\\pycharmproject\\Efficientnet\\segjjc_cls\\try\\efficientout\\Efficientrain34\\weights\\last.pth" ,
            "evaluate": false,
            "pretrained": false,
            "world_size": -1,
            "rank": -1,
            "dist_url": "tcp://224.66.41.62:23456",
            "dist_backend": "nccl",
            "seed": null,
            "device": null,
            "ifefficient_defaultsize":true,
            "###启用上述参数后###":"###会使image_size直接变成所选模型默认输入###",
            "image_size": 640,
            "crop_size": true,
            "###启用上述crop_size参数后###":"###会执行torchrandom随机裁剪策略将图大小片至image_size###",
            "###关闭上述crop_size参数后###":"###会执行letterbox填充resize图片大小至image_size，两者方案不同###",
            "advprop": false,
            "multiprocessing_distributed":false
        }
    },

    "*****Part3*****": "##########################ExportParams##########################",
    "ExportParams":
    {
        "ExportParams_YOLO":
        {
            "export_format": "wts",
            "imgsz_export": [
                256,
                256
            ],
            "half": false,
            "dynamic": false,
            "simplify": true,
            "model_to_export": "D:\\ALLvision\\pycharmproject\\v8\\debug\\labeltry\\jsontrain\\train\\runs\\detect\\train2\\weights\\best.pt"
        },
        "ExportParams_FCN":
        {
            "###目前只支持导出类型###": "##onnx、wts###",
            "export_format": "wts",
            "imgsz_export": [
                640,
                640
            ],
            "model_to_export": "D:\\ALLvision\\pycharmproject\\v8\\debug\\labeltry\\jsontrain\\train\\runs\\detect\\train2\\weights\\best.pt",
            "export_detail": false
        },
        "ExportParams_EfficientNet":
        {
            "###目前只支持导出类型###": "##onnx、wts###",
            "export_format": "wts",
            "imgsz_export": [
                640,
                640
            ],
            "export_detail": false
        }
    },

    "*****Part4*****": "##########################TestParams##########################",
    "TestParams":
    {
        "*****Part4.1*****": "######################TestParams_YOLO###################",
        "TestParams_YOLO":
        {
            "inferedimg": "E:\\ALLvision\\pycharmproject\\pvk\\infer\\1129\\out\\imgsave",
            "inferedimg_onedir": false,
            "##inferedimg_onedir##": "false代表推理的图片路径文件夹是否里面全是图片，不包含子目录里面多个图片，true为推理路径里面可以有多层子级文件",
            "testimg": "E:\\ALLvision\\pycharmproject\\pvk\\infer\\1127blue\\cpp_imgtest",
            "infermodeldir": "E:\\工作\\钙钛矿玻璃\\模型推理dll\\1129",
            "infer_format": "pt",
            "inferbatch": 1,
            "inferimgsz": [1024, 1024],
            "inferdevicehandle": "gpu",
            "line_width":null,
            "font_size": null,
            "##line_width、font_size":"这是最后检测框粗细和检测框文字大小，默认为null，则使用原版默认大小",
            "sahiinfer": false,
            "##sahiinfer##": "##代表是否默认小于inferimgsz尺寸的图片使用sahi切片，值：true/false，如果没有这个参数键，程序默认为true##",
            "roi": [475,275,3740,3815],
            "##roi##": "##代表在图像是否只检测roi区域，或者sahi之前对图像的roi区域，直接给左上角顶点x1,y1，右下角点x2,y2，不开启就为false",
            "roi_padding": false,
            "##roi_padding ##": "##代表在roi时边缘是否填充0值，不开启就为false,默认不开启",
            "ifroiimg": false,
            "###ifroiimg###": "##这个参数确定了是否使用roi后的图像进行推理（true），还是推理后再用roi交集（false）,默认false",
            "nmm_on_ori": true,
            "###nmm_on_ori###": "默认为true，是否在输入原图推理情况下使用nmm",
            "sahi_overlapratio":0.25,
            "prob_thresh":0.25,
            "nms_thresh":0.45,
            "###auto_label自动标注###": "##是否开启自动标注（导出为halcon的json），true为开",
            "auto_label": true,
            "#resultjson_filetype#": "##标注的文件的输出格式json/hdict，json后需要用halcon的程序再此跑，而hdict直接就是可以作为数据集导入halcon标注（但需要安装halcon包，且lisence和dll都放在python.exe同级目录）",
            "resultjson_filetype": "hdict",
            "import_HALCONdll": true,
            "##import_HALCONdll##": "是否导入本版本包默认的dll（在SegJJC/dll文件中），true为开启导入，false为使用本地安装的halcon，默认为true",
            "#resultjson_path#": "##标注的json文件输出路径",
            "resultjson_path": "E:\\ALLvision\\pycharmproject\\pvk\\infer\\1129\\out\\datajson"
        },
        "*****Part4.2*****": "######################TestParams_FCN###################",
        "TestParams_FCN":
        {
            "inferedimg": "E:\\ALLvision\\pycharmproject\\pvk\\infer\\seg_rd100\\sahi\\test\\out2",
            "inferedimg_onedir": false,
            "##inferedimg_onedir##": "false代表推理的图片路径文件夹是否里面全是图片，不包含子目录里面多个图片，true为推理路径里面可以有多层子级文件",
            "testimg": "E:\\ALLvision\\halconproject\\段明\\分割线\\images\\预处理\\512 edge line",
            "infermodeldir": "E:\\ALLvision\\pycharmproject\\pvk\\infer\\seg_rd100\\fcntest\\model\\320_alldata",
            "inferbatch": 16,
            "inferimgsz": [256, 256],
            "###infer_format###": "##形式有pt/pth、onnx、openvino##",
            "infer_format": "pt",
            "inferdevicehandle": "gpu",
            "###inferdevicehandle###": "##pt/pth、onnx的device都是'cpu'、'gpu'、'0'、'1',像'0'这些数字为第n+1块独显，'gpu'默认为第1个独显##",
            "###inferdevicehandle###": "##openvino的device也是'cpu'、'gpu'、'0'、'1',像'0'这些数字为从核显开始数第几块显卡，'gpu'默认为第1个显卡（核显/独显）##",
            "ifsahi": false,
            "overlap_ratio": 0.2,
            "merge_strategy": "average",
            "##merge_strategy##": "##重叠区域类别计算模式:'average'、'weighted_avg'、'max'、'majority_vote'##"
        }
    }
}