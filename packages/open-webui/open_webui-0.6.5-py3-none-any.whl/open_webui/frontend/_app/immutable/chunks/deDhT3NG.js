import{s as yt,D as Ae,E as Pe,a as M,d as m,f as h,i as z,g as y,n as _e,y as Et,A as Ct,j as ke,p as It,F as Tt,q as Mt,k as q,o as U,C as Le,e as V,c as C,r as Nt,v as zt,w as Ot,x as Bt,P as Ee,t as J,b as K,h as X,B as je,u as se,H as $t,S as $e,V as He}from"./vexCXLX9.js";import{S as Dt,i as Vt,f as St,b as ee,d as te,m as le,t as T,a as A,e as ae,g as fe,c as ue}from"./Cdll-xsj.js";import{e as me}from"./DNXpXRYa.js";import"./CyFe254w.js";import{M as At,a as Pt,b as Lt}from"./CgO5y2dz.js";import{t as he,m as qe}from"./DT5uOxbm.js";import{F as jt}from"./CU2r43ac.js";import{f as Ht}from"./g5t9vw8M.js";import{C as qt}from"./Cux5bsOp.js";import{C as Ut}from"./BfKRbBRz.js";import{S as Zt}from"./DjtyHjFA.js";import{g as Wt,p as Ft,d as Yt}from"./DeBBhDdm.js";import{M as ye,a as Gt,c as Rt,i as Jt,u as Kt,l as Ue,m as Qt}from"./BIprIzNQ.js";import{s as Xt,f as Ze}from"./CqXNt1eH.js";import{g as xt}from"./BzlFB5-E.js";import{T as ge}from"./Rtszqwrj.js";import{S as el}from"./DBcgpmMt.js";import{g as tl}from"./46NaFGl_.js";function ll(a){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(l){e=Pe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=M(e);t=Pe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(t).forEach(m),r.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",a[1]),h(e,"stroke","currentColor"),h(e,"class",a[0])},m(l,r){z(l,e,r),y(e,t)},p(l,[r]){r&2&&h(e,"stroke-width",l[1]),r&1&&h(e,"class",l[0])},i:_e,o:_e,d(l){l&&m(e)}}}function al(a,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return a.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class rl extends Dt{constructor(e){super(),Vt(this,e,al,ll,yt,{className:0,strokeWidth:1})}}function We(a,e,t){const l=a.slice();return l[48]=e[t],l}function Fe(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Ye(a,e,t){const l=a.slice();return l[54]=e[t],l}function Ge(a,e,t){const l=a.slice();return l[54]=e[t],l}function Re(a,e,t){const l=a.slice();return l[54]=e[t],l}function nl(a){let e;return{c(){e=J(a[2])},l(t){e=K(t,a[2])},m(t,l){z(t,e,l)},p(t,l){l[0]&4&&X(e,t[2])},d(t){t&&m(e)}}}function ol(a){let e=a[15].label+"",t;return{c(){t=J(e)},l(l){t=K(l,e)},m(l,r){z(l,t,r)},p(l,r){r[0]&32768&&e!==(e=l[15].label+"")&&X(t,e)},d(l){l&&m(t)}}}function sl(a){let e,t,l,r,n;function o(c,f){return c[15]?ol:nl}let s=o(a),i=s(a);return l=new qt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),i.c(),t=q(),ee(l.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=M(e);i.l(f),t=U(f),te(l.$$.fragment,f),f.forEach(m),this.h()},h(){h(e,"class",r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+a[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(c,f){z(c,e,f),i.m(e,null),y(e,t),le(l,e,null),n=!0},p(c,f){s===(s=o(c))&&i?i.p(c,f):(i.d(1),i=s(c),i&&(i.c(),i.m(e,t))),(!n||f[0]&256&&r!==(r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+c[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&h(e,"class",r)},i(c){n||(T(l.$$.fragment,c),n=!0)},o(c){A(l.$$.fragment,c),n=!1},d(c){c&&m(e),i.d(),ae(l)}}}function Je(a){let e,t,l,r,n,o,s;return t=new Zt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),ee(t.$$.fragment),l=q(),r=V("input"),this.h()},l(i){e=C(i,"DIV",{class:!0});var c=M(e);te(t.$$.fragment,c),l=U(c),r=C(c,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),c.forEach(m),this.h()},h(){h(r,"id","model-search-input"),h(r,"class","w-full text-sm bg-transparent outline-hidden"),h(r,"placeholder",a[4]),h(r,"autocomplete","off"),h(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,c){z(i,e,c),le(t,e,null),y(e,l),y(e,r),je(r,a[9]),n=!0,o||(s=[se(r,"input",a[29]),se(r,"keydown",a[30])],o=!0)},p(i,c){(!n||c[0]&16)&&h(r,"placeholder",i[4]),c[0]&512&&r.value!==i[9]&&je(r,i[9])},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){A(t.$$.fragment,i),n=!1},d(i){i&&m(e),ae(t),o=!1,$t(s)}}}function Ke(a){let e,t,l=a[6].find(pt)&&a[6].find(vt)||a[6].find(bt)||a[14].length>0,r,n=a[6].find(_t)&&a[6].find(gt),o,s=a[6].find(ht),i,c,f,g=l&&Qe(a),w=n&&Xe(a),p=s&&xe(a),b=me(a[14]),E=[];for(let _=0;_<b.length;_+=1)E[_]=et(Re(a,b,_));return{c(){e=V("div"),t=V("div"),g&&g.c(),r=q(),w&&w.c(),o=q(),p&&p.c(),i=q();for(let _=0;_<E.length;_+=1)E[_].c();this.h()},l(_){e=C(_,"DIV",{class:!0});var D=M(e);t=C(D,"DIV",{class:!0});var k=M(t);g&&g.l(k),r=U(k),w&&w.l(k),o=U(k),p&&p.l(k),i=U(k);for(let I=0;I<E.length;I+=1)E[I].l(k);k.forEach(m),D.forEach(m),this.h()},h(){h(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),h(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(_,D){z(_,e,D),y(e,t),g&&g.m(t,null),y(t,r),w&&w.m(t,null),y(t,o),p&&p.m(t,null),y(t,i);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(t,null);a[36](t),c||(f=se(e,"wheel",$l),c=!0)},p(_,D){if(D[0]&16448&&(l=_[6].find(pt)&&_[6].find(vt)||_[6].find(bt)||_[14].length>0),l?g?g.p(_,D):(g=Qe(_),g.c(),g.m(t,r)):g&&(g.d(1),g=null),D[0]&64&&(n=_[6].find(_t)&&_[6].find(gt)),n?w?w.p(_,D):(w=Xe(_),w.c(),w.m(t,o)):w&&(w.d(1),w=null),D[0]&64&&(s=_[6].find(ht)),s?p?p.p(_,D):(p=xe(_),p.c(),p.m(t,i)):p&&(p.d(1),p=null),D[0]&19456){b=me(_[14]);let k;for(k=0;k<b.length;k+=1){const I=Re(_,b,k);E[k]?E[k].p(I,D):(E[k]=et(I),E[k].c(),E[k].m(t,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=b.length}},d(_){_&&m(e),g&&g.d(),w&&w.d(),p&&p.d(),Ee(E,_),a[36](null),c=!1,f()}}}function Qe(a){let e,t=a[20].t("All")+"",l,r,n,o;return{c(){e=V("button"),l=J(t),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);l=K(i,t),i.forEach(m),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(a[10]===""&&a[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),y(e,l),n||(o=se(e,"click",a[31]),n=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("All")+"")&&X(l,t),i[0]&3072&&r!==(r="min-w-fit outline-none p-1.5 "+(s[10]===""&&s[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r)},d(s){s&&m(e),n=!1,o()}}}function Xe(a){let e,t=a[20].t("Local")+"",l,r,n,o,s=a[20].t("External")+"",i,c,f,g;return{c(){e=V("button"),l=J(t),n=q(),o=V("button"),i=J(s),this.h()},l(w){e=C(w,"BUTTON",{class:!0});var p=M(e);l=K(p,t),p.forEach(m),n=U(w),o=C(w,"BUTTON",{class:!0});var b=M(o);i=K(b,s),b.forEach(m),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),h(o,"class",c="min-w-fit outline-none p-1.5 "+(a[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(w,p){z(w,e,p),y(e,l),z(w,n,p),z(w,o,p),y(o,i),f||(g=[se(e,"click",a[32]),se(o,"click",a[33])],f=!0)},p(w,p){p[0]&1048576&&t!==(t=w[20].t("Local")+"")&&X(l,t),p[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(w[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r),p[0]&1048576&&s!==(s=w[20].t("External")+"")&&X(i,s),p[0]&2048&&c!==(c="min-w-fit outline-none p-1.5 "+(w[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(o,"class",c)},d(w){w&&(m(e),m(n),m(o)),f=!1,$t(g)}}}function xe(a){let e,t=a[20].t("Direct")+"",l,r,n,o;return{c(){e=V("button"),l=J(t),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);l=K(i,t),i.forEach(m),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),y(e,l),n||(o=se(e,"click",a[34]),n=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&X(l,t),i[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r)},d(s){s&&m(e),n=!1,o()}}}function et(a){let e,t=a[54]+"",l,r,n,o,s;function i(){return a[35](a[54])}return{c(){e=V("button"),l=J(t),r=q(),this.h()},l(c){e=C(c,"BUTTON",{class:!0});var f=M(e);l=K(f,t),r=U(f),f.forEach(m),this.h()},h(){h(e,"class",n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(c,f){z(c,e,f),y(e,l),y(e,r),o||(s=se(e,"click",i),o=!0)},p(c,f){a=c,f[0]&16384&&t!==(t=a[54]+"")&&X(l,t),f[0]&17408&&n!==(n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",n)},d(c){c&&m(e),o=!1,s()}}}function tt(a){let e,t,l=a[20].t("No results found")+"",r;return{c(){e=V("div"),t=V("div"),r=J(l),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);t=C(o,"DIV",{class:!0});var s=M(t);r=K(s,l),s.forEach(m),o.forEach(m),this.h()},h(){h(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),h(e,"class","")},m(n,o){z(n,e,o),y(e,t),y(t,r)},p(n,o){o[0]&1048576&&l!==(l=n[20].t("No results found")+"")&&X(r,l)},d(n){n&&m(e)}}}function lt(a){var r;let e,t=me((r=a[51].model)==null?void 0:r.tags.sort(wt)),l=[];for(let n=0;n<t.length;n+=1)l[n]=at(Ge(a,t,n));return{c(){e=V("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(m),this.h()},h(){h(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(n,o){z(n,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(n,o){var s;if(o[0]&262144){t=me((s=n[51].model)==null?void 0:s.tags.sort(wt));let i;for(i=0;i<t.length;i+=1){const c=Ge(n,t,i);l[i]?l[i].p(c,o):(l[i]=at(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&m(e),Ee(l,n)}}}function at(a){let e,t=a[54].name+"",l,r;return{c(){e=V("div"),l=J(t),r=q(),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);l=K(o,t),r=U(o),o.forEach(m),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){z(n,e,o),y(e,l),y(e,r)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&X(l,t)},d(n){n&&m(e)}}}function rt(a){var r,n,o,s,i,c;let e,t,l;return t=new ge({props:{content:`${(n=(r=a[51].model.ollama)==null?void 0:r.details)!=null&&n.quantization_level?((s=(o=a[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=a[51].model.ollama)!=null&&i.size?`(${(((c=a[51].model.ollama)==null?void 0:c.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[il]},$$scope:{ctx:a}}}),{c(){e=V("div"),ee(t.$$.fragment),this.h()},l(f){e=C(f,"DIV",{class:!0});var g=M(e);te(t.$$.fragment,g),g.forEach(m),this.h()},h(){h(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,g){z(f,e,g),le(t,e,null),l=!0},p(f,g){var p,b,E,_,D,k;const w={};g[0]&262144&&(w.content=`${(b=(p=f[51].model.ollama)==null?void 0:p.details)!=null&&b.quantization_level?((_=(E=f[51].model.ollama)==null?void 0:E.details)==null?void 0:_.quantization_level)+" ":""}${(D=f[51].model.ollama)!=null&&D.size?`(${(((k=f[51].model.ollama)==null?void 0:k.size)/1024**3).toFixed(1)}GB)`:""}`),g[0]&262144|g[1]&4096&&(w.$$scope={dirty:g,ctx:f}),t.$set(w)},i(f){l||(T(t.$$.fragment,f),l=!0)},o(f){A(t.$$.fragment,f),l=!1},d(f){f&&m(e),ae(t)}}}function il(a){var r,n;let e,t=(((n=(r=a[51].model.ollama)==null?void 0:r.details)==null?void 0:n.parameter_size)??"")+"",l;return{c(){e=V("span"),l=J(t),this.h()},l(o){e=C(o,"SPAN",{class:!0});var s=M(e);l=K(s,t),s.forEach(m),this.h()},h(){h(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){z(o,e,s),y(e,l)},p(o,s){var i,c;s[0]&262144&&t!==(t=(((c=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:c.parameter_size)??"")+"")&&X(l,t)},d(o){o&&m(e)}}}function fl(a){var g,w;let e,t,l,r,n,o=a[51].label+"",s,i,c,f=a[51].model.owned_by==="ollama"&&(((w=(g=a[51].model.ollama)==null?void 0:g.details)==null?void 0:w.parameter_size)??"")!==""&&rt(a);return{c(){e=V("img"),l=q(),r=V("div"),n=V("div"),s=J(o),i=q(),f&&f.c(),this.h()},l(p){e=C(p,"IMG",{src:!0,alt:!0,class:!0}),l=U(p),r=C(p,"DIV",{class:!0});var b=M(r);n=C(b,"DIV",{class:!0});var E=M(n);s=K(E,o),E.forEach(m),i=U(b),f&&f.l(b),b.forEach(m),this.h()},h(){var p,b,E;He(e.src,t=((E=(b=(p=a[51].model)==null?void 0:p.info)==null?void 0:b.meta)==null?void 0:E.profile_image_url)??"/static/favicon.png")||h(e,"src",t),h(e,"alt","Model"),h(e,"class","rounded-full size-5 flex items-center mr-2"),h(n,"class","line-clamp-1"),h(r,"class","flex items-center line-clamp-1")},m(p,b){z(p,e,b),z(p,l,b),z(p,r,b),y(r,n),y(n,s),y(r,i),f&&f.m(r,null),c=!0},p(p,b){var E,_,D,k,I;(!c||b[0]&262144&&!He(e.src,t=((D=(_=(E=p[51].model)==null?void 0:E.info)==null?void 0:_.meta)==null?void 0:D.profile_image_url)??"/static/favicon.png"))&&h(e,"src",t),(!c||b[0]&262144)&&o!==(o=p[51].label+"")&&X(s,o),p[51].model.owned_by==="ollama"&&(((I=(k=p[51].model.ollama)==null?void 0:k.details)==null?void 0:I.parameter_size)??"")!==""?f?(f.p(p,b),b[0]&262144&&T(f,1)):(f=rt(p),f.c(),T(f,1),f.m(r,null)):f&&(fe(),A(f,1,1,()=>{f=null}),ue())},i(p){c||(T(f),c=!0)},o(p){A(f),c=!1},d(p){p&&(m(e),m(l),m(r)),f&&f.d()}}}function ul(a){let e,t;return e=new ge({props:{content:"External",$$slots:{default:[dl]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function cl(a){let e,t;return e=new ge({props:{content:"Direct",$$slots:{default:[ml]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function dl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&m(e)}}}function ml(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&m(e)}}}function nt(a){var l,r,n;let e,t;return e=new ge({props:{content:`${qe.parse(Ze((n=(r=(l=a[51].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[hl]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(o){te(e.$$.fragment,o)},m(o,s){le(e,o,s),t=!0},p(o,s){var c,f,g;const i={};s[0]&262144&&(i.content=`${qe.parse(Ze((g=(f=(c=o[51].model)==null?void 0:c.info)==null?void 0:f.meta)==null?void 0:g.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){ae(e,o)}}}function hl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&m(e)}}}function ot(a){var o;let e,t,l=me((o=a[51].model)==null?void 0:o.tags.sort(kt)),r=[];for(let s=0;s<l.length;s+=1)r[s]=st(Ye(a,l,s));const n=s=>A(r[s],1,1,()=>{r[s]=null});return{c(){e=V("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var i=M(e);for(let c=0;c<r.length;c+=1)r[c].l(i);i.forEach(m),this.h()},h(){h(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){z(s,e,i);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(s,i){var c;if(i[0]&262144){l=me((c=s[51].model)==null?void 0:c.tags.sort(kt));let f;for(f=0;f<l.length;f+=1){const g=Ye(s,l,f);r[f]?(r[f].p(g,i),T(r[f],1)):(r[f]=st(g),r[f].c(),T(r[f],1),r[f].m(e,null))}for(fe(),f=l.length;f<r.length;f+=1)n(f);ue()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)T(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)A(r[i]);t=!1},d(s){s&&m(e),Ee(r,s)}}}function _l(a){let e,t=a[54].name+"",l,r;return{c(){e=V("div"),l=J(t),r=q(),this.h()},l(n){e=C(n,"DIV",{class:!0});var o=M(e);l=K(o,t),o.forEach(m),r=U(n),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){z(n,e,o),y(e,l),z(n,r,o)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&X(l,t)},d(n){n&&(m(e),m(r))}}}function st(a){let e,t;return e=new ge({props:{content:a[54].name,className:"flex-shrink-0",$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const n={};r[0]&262144&&(n.content=l[54].name),r[0]&262144|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function it(a){let e,t,l;return t=new Ut({}),{c(){e=V("div"),ee(t.$$.fragment),this.h()},l(r){e=C(r,"DIV",{class:!0});var n=M(e);te(t.$$.fragment,n),n.forEach(m),this.h()},h(){h(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(r,n){z(r,e,n),le(t,e,null),l=!0},i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&m(e),ae(t)}}}function ft(a){var Z,d,v,W,ce,P,ie,De,Ve;let e,t,l,r,n,o,s,i,c,f,g,w,p,b,E,_,D,k,I,G,O=a[21]&&(((d=(Z=a[51])==null?void 0:Z.model)==null?void 0:d.tags)??[]).length>0&&lt(a);i=new ge({props:{content:((v=a[22])==null?void 0:v.role)==="admin"?((W=a[51])==null?void 0:W.value)??"":"",placement:"top-start",$$slots:{default:[fl]},$$scope:{ctx:a}}});const H=[cl,ul],L=[];function $(x,Y){var ne;return(ne=x[51].model)!=null&&ne.direct?0:x[51].model.owned_by==="openai"?1:-1}~(f=$(a))&&(g=L[f]=H[f](a));let N=((ie=(P=(ce=a[51].model)==null?void 0:ce.info)==null?void 0:P.meta)==null?void 0:ie.description)&&nt(a),j=!a[21]&&(((Ve=(De=a[51])==null?void 0:De.model)==null?void 0:Ve.tags)??[]).length>0&&ot(a),B=a[0]===a[51].value&&it();function R(){return a[37](a[51],a[53])}return{c(){e=V("button"),t=V("div"),O&&O.c(),l=q(),r=V("div"),n=V("div"),o=V("div"),s=V("div"),ee(i.$$.fragment),c=q(),g&&g.c(),w=q(),N&&N.c(),p=q(),j&&j.c(),b=q(),B&&B.c(),this.h()},l(x){e=C(x,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var Y=M(e);t=C(Y,"DIV",{class:!0});var ne=M(t);O&&O.l(ne),l=U(ne),r=C(ne,"DIV",{class:!0});var re=M(r);n=C(re,"DIV",{class:!0});var pe=M(n);o=C(pe,"DIV",{class:!0});var ve=M(o);s=C(ve,"DIV",{class:!0});var be=M(s);te(i.$$.fragment,be),be.forEach(m),ve.forEach(m),pe.forEach(m),c=U(re),g&&g.l(re),w=U(re),N&&N.l(re),p=U(re),j&&j.l(re),re.forEach(m),ne.forEach(m),b=U(Y),B&&B.l(Y),Y.forEach(m),this.h()},h(){h(s,"class","flex items-center min-w-fit"),h(o,"class","line-clamp-1"),h(n,"class","flex items-center min-w-fit"),h(r,"class","flex items-center gap-2"),h(t,"class","flex flex-col"),h(e,"aria-label","model-item"),h(e,"class",E="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),h(e,"data-arrow-selected",_=a[53]===a[17]),h(e,"data-value",D=a[51].value)},m(x,Y){z(x,e,Y),y(e,t),O&&O.m(t,null),y(t,l),y(t,r),y(r,n),y(n,o),y(o,s),le(i,s,null),y(r,c),~f&&L[f].m(r,null),y(r,w),N&&N.m(r,null),y(r,p),j&&j.m(r,null),y(e,b),B&&B.m(e,null),k=!0,I||(G=se(e,"click",R),I=!0)},p(x,Y){var pe,ve,be,Ce,Ie,Te,Me,Ne,u;a=x,a[21]&&(((ve=(pe=a[51])==null?void 0:pe.model)==null?void 0:ve.tags)??[]).length>0?O?O.p(a,Y):(O=lt(a),O.c(),O.m(t,l)):O&&(O.d(1),O=null);const ne={};Y[0]&4456448&&(ne.content=((be=a[22])==null?void 0:be.role)==="admin"?((Ce=a[51])==null?void 0:Ce.value)??"":""),Y[0]&262144|Y[1]&4096&&(ne.$$scope={dirty:Y,ctx:a}),i.$set(ne);let re=f;f=$(a),f!==re&&(g&&(fe(),A(L[re],1,1,()=>{L[re]=null}),ue()),~f?(g=L[f],g||(g=L[f]=H[f](a),g.c()),T(g,1),g.m(r,w)):g=null),(Me=(Te=(Ie=a[51].model)==null?void 0:Ie.info)==null?void 0:Te.meta)!=null&&Me.description?N?(N.p(a,Y),Y[0]&262144&&T(N,1)):(N=nt(a),N.c(),T(N,1),N.m(r,p)):N&&(fe(),A(N,1,1,()=>{N=null}),ue()),!a[21]&&(((u=(Ne=a[51])==null?void 0:Ne.model)==null?void 0:u.tags)??[]).length>0?j?(j.p(a,Y),Y[0]&2359296&&T(j,1)):(j=ot(a),j.c(),T(j,1),j.m(r,null)):j&&(fe(),A(j,1,1,()=>{j=null}),ue()),a[0]===a[51].value?B?Y[0]&262145&&T(B,1):(B=it(),B.c(),T(B,1),B.m(e,null)):B&&(fe(),A(B,1,1,()=>{B=null}),ue()),(!k||Y[0]&131072&&E!==(E="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&h(e,"class",E),(!k||Y[0]&131072&&_!==(_=a[53]===a[17]))&&h(e,"data-arrow-selected",_),(!k||Y[0]&262144&&D!==(D=a[51].value))&&h(e,"data-value",D)},i(x){k||(T(i.$$.fragment,x),T(g),T(N),T(j),T(B),k=!0)},o(x){A(i.$$.fragment,x),A(g),A(N),A(j),A(B),k=!1},d(x){x&&m(e),O&&O.d(),ae(i),~f&&L[f].d(),N&&N.d(),j&&j.d(),B&&B.d(),I=!1,G()}}}function ut(a){let e,t;return e=new ge({props:{content:a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]}),placement:"top-start",$$slots:{default:[gl]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const n={};r[0]&1049088&&(n.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),r[0]&1049088|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function gl(a){let e,t,l=a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]})+"",r,n,o;return{c(){e=V("button"),t=V("div"),r=J(l),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);t=C(i,"DIV",{class:!0});var c=M(t);r=K(c,l),c.forEach(m),i.forEach(m),this.h()},h(){h(t,"class","truncate"),h(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){z(s,e,i),y(e,t),y(t,r),n||(o=se(e,"click",a[38]),n=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&X(r,l)},d(s){s&&m(e),n=!1,o()}}}function ct(a){let e,t=a[19][a[48]].digest+"",l;return{c(){e=V("div"),l=J(t),this.h()},l(r){e=C(r,"DIV",{class:!0});var n=M(e);l=K(n,t),n.forEach(m),this.h()},h(){h(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,n){z(r,e,n),y(e,l)},p(r,n){n[0]&524288&&t!==(t=r[19][r[48]].digest+"")&&X(l,t)},d(r){r&&m(e)}}}function pl(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return a[39](a[48])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){h(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){z(o,e,s),l||(r=se(e,"click",n),l=!0)},p(o,s){a=o},d(o){o&&m(e),l=!1,r()}}}function dt(a){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,o,s,i,c,f=a[48]+"",g,w,p,b,E="pullProgress"in a[19][a[48]]?`(${a[19][a[48]].pullProgress}%)`:"",_,D,k,I,G,O,H,L="digest"in a[19][a[48]]&&a[19][a[48]].digest&&ct(a);return G=new ge({props:{content:a[20].t("Cancel"),$$slots:{default:[pl]},$$scope:{ctx:a}}}),{c(){e=V("div"),t=V("div"),l=V("div"),l.innerHTML=r,n=q(),o=V("div"),s=V("div"),i=V("div"),c=J('Downloading "'),g=J(f),w=J('"'),p=q(),b=V("div"),_=J(E),D=q(),L&&L.c(),k=q(),I=V("div"),ee(G.$$.fragment),O=q(),this.h()},l($){e=C($,"DIV",{class:!0});var N=M(e);t=C(N,"DIV",{class:!0});var j=M(t);l=C(j,"DIV",{class:!0,"data-svelte-h":!0}),$e(l)!=="svelte-102rp4j"&&(l.innerHTML=r),n=U(j),o=C(j,"DIV",{class:!0});var B=M(o);s=C(B,"DIV",{class:!0});var R=M(s);i=C(R,"DIV",{class:!0});var Z=M(i);c=K(Z,'Downloading "'),g=K(Z,f),w=K(Z,'"'),Z.forEach(m),p=U(R),b=C(R,"DIV",{class:!0});var d=M(b);_=K(d,E),d.forEach(m),R.forEach(m),D=U(B),L&&L.l(B),B.forEach(m),j.forEach(m),k=U(N),I=C(N,"DIV",{class:!0});var v=M(I);te(G.$$.fragment,v),v.forEach(m),O=U(N),N.forEach(m),this.h()},h(){h(l,"class","-ml-2 mr-2.5 translate-y-0.5"),h(i,"class","line-clamp-1"),h(b,"class","shrink-0"),h(s,"class","flex gap-1"),h(o,"class","flex flex-col self-start"),h(t,"class","flex"),h(I,"class","mr-2 ml-1 translate-y-0.5"),h(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m($,N){z($,e,N),y(e,t),y(t,l),y(t,n),y(t,o),y(o,s),y(s,i),y(i,c),y(i,g),y(i,w),y(s,p),y(s,b),y(b,_),y(o,D),L&&L.m(o,null),y(e,k),y(e,I),le(G,I,null),y(e,O),H=!0},p($,N){(!H||N[0]&524288)&&f!==(f=$[48]+"")&&X(g,f),(!H||N[0]&524288)&&E!==(E="pullProgress"in $[19][$[48]]?`(${$[19][$[48]].pullProgress}%)`:"")&&X(_,E),"digest"in $[19][$[48]]&&$[19][$[48]].digest?L?L.p($,N):(L=ct($),L.c(),L.m(o,null)):L&&(L.d(1),L=null);const j={};N[0]&1048576&&(j.content=$[20].t("Cancel")),N[0]&524288|N[1]&4096&&(j.$$scope={dirty:N,ctx:$}),G.$set(j)},i($){H||(T(G.$$.fragment,$),H=!0)},o($){A(G.$$.fragment,$),H=!1},d($){$&&m(e),L&&L.d(),ae(G)}}}function vl(a){let e;return{c(){e=V("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),M(e).forEach(m),this.h()},h(){h(e,"class","mb-3")},m(t,l){z(t,e,l)},p:_e,i:_e,o:_e,d(t){t&&m(e)}}}function bl(a){let e,t,l,r,n,o=a[20].t("Temporary Chat")+"",s,i,c,f,g,w,p;return r=new rl({props:{className:"size-4",strokeWidth:"2.5"}}),f=new el({props:{state:a[23]}}),{c(){e=V("div"),t=V("button"),l=V("div"),ee(r.$$.fragment),n=q(),s=J(o),i=q(),c=V("div"),ee(f.$$.fragment),this.h()},l(b){e=C(b,"DIV",{class:!0});var E=M(e);t=C(E,"BUTTON",{class:!0});var _=M(t);l=C(_,"DIV",{class:!0});var D=M(l);te(r.$$.fragment,D),n=U(D),s=K(D,o),D.forEach(m),i=U(_),c=C(_,"DIV",{});var k=M(c);te(f.$$.fragment,k),k.forEach(m),_.forEach(m),E.forEach(m),this.h()},h(){h(l,"class","flex gap-2.5 items-center"),h(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),h(e,"class","flex items-center mx-2 mb-2")},m(b,E){z(b,e,E),y(e,t),y(t,l),le(r,l,null),y(l,n),y(l,s),y(t,i),y(t,c),le(f,c,null),g=!0,w||(p=se(t,"click",a[40]),w=!0)},p(b,E){(!g||E[0]&1048576)&&o!==(o=b[20].t("Temporary Chat")+"")&&X(s,o);const _={};E[0]&8388608&&(_.state=b[23]),f.$set(_)},i(b){g||(T(r.$$.fragment,b),T(f.$$.fragment,b),g=!0)},o(b){A(r.$$.fragment,b),A(f.$$.fragment,b),g=!1},d(b){b&&m(e),ae(r),ae(f),w=!1,p()}}}function wl(a){var Z;let e,t,l=a[14]&&a[6].filter(mt).length>0,r,n,o=!(a[9].trim()in a[19])&&a[9]&&a[16]&&((Z=a[22])==null?void 0:Z.role)==="admin",s,i,c,f,g,w,p,b,E,_=a[3]&&Je(a),D=l&&Ke(a),k=me(a[18]),I=[];for(let d=0;d<k.length;d+=1)I[d]=ft(Fe(a,k,d));const G=d=>A(I[d],1,1,()=>{I[d]=null});let O=null;k.length||(O=tt(a));let H=o&&ut(a),L=me(Object.keys(a[19])),$=[];for(let d=0;d<L.length;d+=1)$[d]=dt(We(a,L,d));const N=d=>A($[d],1,1,()=>{$[d]=null}),j=[bl,vl],B=[];function R(d,v){return d[5]?0:d[18].length===0?1:-1}return~(c=R(a))&&(f=B[c]=j[c](a)),{c(){_&&_.c(),e=q(),t=V("div"),D&&D.c(),r=q();for(let d=0;d<I.length;d+=1)I[d].c();O&&O.c(),n=q(),H&&H.c(),s=q();for(let d=0;d<$.length;d+=1)$[d].c();i=q(),f&&f.c(),g=q(),w=V("div"),p=q(),b=V("div"),this.h()},l(d){_&&_.l(d),e=U(d),t=C(d,"DIV",{class:!0});var v=M(t);D&&D.l(v),r=U(v);for(let W=0;W<I.length;W+=1)I[W].l(v);O&&O.l(v),n=U(v),H&&H.l(v),s=U(v);for(let W=0;W<$.length;W+=1)$[W].l(v);v.forEach(m),i=U(d),f&&f.l(d),g=U(d),w=C(d,"DIV",{class:!0}),M(w).forEach(m),p=U(d),b=C(d,"DIV",{class:!0}),M(b).forEach(m),this.h()},h(){h(t,"class","px-3 max-h-64 overflow-y-auto scrollbar-hidden group relative"),h(w,"class","hidden w-[42rem]"),h(b,"class","hidden w-[32rem]")},m(d,v){_&&_.m(d,v),z(d,e,v),z(d,t,v),D&&D.m(t,null),y(t,r);for(let W=0;W<I.length;W+=1)I[W]&&I[W].m(t,null);O&&O.m(t,null),y(t,n),H&&H.m(t,null),y(t,s);for(let W=0;W<$.length;W+=1)$[W]&&$[W].m(t,null);z(d,i,v),~c&&B[c].m(d,v),z(d,g,v),z(d,w,v),z(d,p,v),z(d,b,v),E=!0},p(d,v){var ce;if(d[3]?_?(_.p(d,v),v[0]&8&&T(_,1)):(_=Je(d),_.c(),T(_,1),_.m(e.parentNode,e)):_&&(fe(),A(_,1,1,()=>{_=null}),ue()),v[0]&16448&&(l=d[14]&&d[6].filter(mt).length>0),l?D?D.p(d,v):(D=Ke(d),D.c(),D.m(t,r)):D&&(D.d(1),D=null),v[0]&7741441){k=me(d[18]);let P;for(P=0;P<k.length;P+=1){const ie=Fe(d,k,P);I[P]?(I[P].p(ie,v),T(I[P],1)):(I[P]=ft(ie),I[P].c(),T(I[P],1),I[P].m(t,n))}for(fe(),P=k.length;P<I.length;P+=1)G(P);ue(),!k.length&&O?O.p(d,v):k.length?O&&(O.d(1),O=null):(O=tt(d),O.c(),O.m(t,n))}if(v[0]&4784640&&(o=!(d[9].trim()in d[19])&&d[9]&&d[16]&&((ce=d[22])==null?void 0:ce.role)==="admin"),o?H?(H.p(d,v),v[0]&4784640&&T(H,1)):(H=ut(d),H.c(),T(H,1),H.m(t,s)):H&&(fe(),A(H,1,1,()=>{H=null}),ue()),v[0]&135790592){L=me(Object.keys(d[19]));let P;for(P=0;P<L.length;P+=1){const ie=We(d,L,P);$[P]?($[P].p(ie,v),T($[P],1)):($[P]=dt(ie),$[P].c(),T($[P],1),$[P].m(t,null))}for(fe(),P=L.length;P<$.length;P+=1)N(P);ue()}let W=c;c=R(d),c===W?~c&&B[c].p(d,v):(f&&(fe(),A(B[W],1,1,()=>{B[W]=null}),ue()),~c?(f=B[c],f?f.p(d,v):(f=B[c]=j[c](d),f.c()),T(f,1),f.m(g.parentNode,g)):f=null)},i(d){if(!E){T(_);for(let v=0;v<k.length;v+=1)T(I[v]);T(H);for(let v=0;v<L.length;v+=1)T($[v]);T(f),E=!0}},o(d){A(_),I=I.filter(Boolean);for(let v=0;v<I.length;v+=1)A(I[v]);A(H),$=$.filter(Boolean);for(let v=0;v<$.length;v+=1)A($[v]);A(f),E=!1},d(d){d&&(m(e),m(t),m(i),m(g),m(w),m(p),m(b)),_&&_.d(d),D&&D.d(),Ee(I,d),O&&O.d(),H&&H.d(),Ee($,d),~c&&B[c].d(d)}}}function kl(a){let e;const t=a[28].default,l=Nt(t,a,a[43],null),r=l||wl(a);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,o){r&&r.m(n,o),e=!0},p(n,o){l?l.p&&(!e||o[1]&4096)&&zt(l,t,n,n[43],e?Bt(t,n[43],o,null):Ot(n[43]),null):r&&r.p&&(!e||o[0]&16744057)&&r.p(n,e?o:[-1,-1])},i(n){e||(T(r,n),e=!0)},o(n){A(r,n),e=!1},d(n){r&&r.d(n)}}}function yl(a){let e,t,l,r;return e=new Pt({props:{class:"relative w-full font-primary","aria-label":a[2],id:"model-selector-"+a[1]+"-button",$$slots:{default:[sl]},$$scope:{ctx:a}}}),l=new Lt({props:{class:" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Ht,side:a[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[kl]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment),t=q(),ee(l.$$.fragment)},l(n){te(e.$$.fragment,n),t=U(n),te(l.$$.fragment,n)},m(n,o){le(e,n,o),z(n,t,o),le(l,n,o),r=!0},p(n,o){const s={};o[0]&4&&(s["aria-label"]=n[2]),o[0]&2&&(s.id="model-selector-"+n[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:n}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(n[21]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=n[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:n}),l.$set(i)},i(n){r||(T(e.$$.fragment,n),T(l.$$.fragment,n),r=!0)},o(n){A(e.$$.fragment,n),A(l.$$.fragment,n),r=!1},d(n){n&&m(t),ae(e,n),ae(l,n)}}}function El(a){let e,t,l;function r(o){a[42](o)}let n={onOpenChange:a[41],closeFocus:!1,$$slots:{default:[yl]},$$scope:{ctx:a}};return a[13]!==void 0&&(n.open=a[13]),e=new At({props:n}),Et.push(()=>St(e,"open",r)),{c(){ee(e.$$.fragment)},l(o){te(e.$$.fragment,o)},m(o,s){le(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],Ct(()=>t=!1)),e.$set(i)},i(o){l||(T(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){ae(e,o)}}}const mt=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},ht=a=>{var e;return(e=a.model)==null?void 0:e.direct},_t=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},gt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},pt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},vt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},bt=a=>{var e;return(e=a.model)==null?void 0:e.direct},$l=a=>{a.deltaY!==0&&(a.preventDefault(),a.currentTarget.scrollLeft+=a.deltaY)},wt=(a,e)=>a.name.localeCompare(e.name),kt=(a,e)=>a.name.localeCompare(e.name);function Dl(a,e,t){let l,r,n,o,s,i,c,f;ke(a,ye,u=>t(19,r=u)),ke(a,Gt,u=>t(44,o=u)),ke(a,Rt,u=>t(45,s=u)),ke(a,Jt,u=>t(21,i=u)),ke(a,Kt,u=>t(22,c=u)),ke(a,Ue,u=>t(23,f=u));let{$$slots:g={},$$scope:w}=e;const p=It("i18n");ke(a,p,u=>t(20,n=u)),Tt();let{id:b=""}=e,{value:E=""}=e,{placeholder:_="Select a model"}=e,{searchEnabled:D=!0}=e,{searchPlaceholder:k=n.t("Search a model")}=e,{showTemporaryChatControl:I=!1}=e,{items:G=[]}=e,{className:O="w-[32rem]"}=e,{triggerClassName:H="text-lg"}=e,L,$=!1,N=[],j="",B="",R="",Z="",d=null,v=0;const W=new jt(G.map(u=>{var F,Q,we,de,ze;return{...u,modelName:(F=u.model)==null?void 0:F.name,tags:(((Q=u.model)==null?void 0:Q.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(ze=(de=(we=u.model)==null?void 0:we.info)==null?void 0:de.meta)==null?void 0:ze.description}}),{keys:["value","tags","modelName"],threshold:.4}),ce=async()=>{await Le();const u=l.findIndex(F=>F.value===E);u>=0?t(17,v=u):t(17,v=0),await Le();const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},P=async()=>{var Q;const u=B.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[u]){he.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(r).length===3){he.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[S,F]=await Ft(localStorage.token,u,"0").catch(we=>(he.error(`${we}`),null));if(S){const we=S.body.pipeThrough(new TextDecoderStream).pipeThrough(Xt(`
`)).getReader();for(ye.set({...r,[u]:{...r[u],abortController:F,reader:we,done:!1}});;)try{const{value:de,done:ze}=await we.read();if(ze)break;let Oe=de.split(`
`);for(const Se of Oe)if(Se!==""){let oe=JSON.parse(Se);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;if(oe.status)if(oe.digest){let Be=0;oe.completed?Be=Math.round(oe.completed/oe.total*1e3)/10:Be=100,ye.set({...r,[u]:{...r[u],pullProgress:Be,digest:oe.digest}})}else he.success(oe.status),ye.set({...r,[u]:{...r[u],done:oe.status==="success"}})}}catch(de){console.log(de),typeof de!="string"&&(de=de.message),he.error(`${de}`);break}r[u].done?(he.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),Qt.set(await xt(localStorage.token,((Q=s==null?void 0:s.features)==null?void 0:Q.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):he.error(n.t("Download canceled")),delete r[u],ye.set({...r})}};Mt(async()=>{t(16,d=await Wt(localStorage.token).catch(u=>!1)),G&&(t(14,N=G.filter(u=>{var S,F,Q;return!(((Q=(F=(S=u.model)==null?void 0:S.info)==null?void 0:F.meta)==null?void 0:Q.hidden)??!1)}).flatMap(u=>{var S;return((S=u.model)==null?void 0:S.tags)??[]}).map(u=>u.name)),t(14,N=Array.from(new Set(N)).sort((u,S)=>u.localeCompare(S))))});const ie=async u=>{const{reader:S,abortController:F}=r[u];F&&F.abort(),S&&(await S.cancel(),delete r[u],ye.set({...r}),await Yt(localStorage.token,u),he.success(`${u} download has been canceled`))};function De(){B=this.value,t(9,B)}const Ve=u=>{if(u.code==="Enter"&&l.length>0){t(0,E=l[v].value),t(13,$=!1);return}else u.code==="ArrowDown"?t(17,v=Math.min(v+1,l.length-1)):u.code==="ArrowUp"?t(17,v=Math.max(v-1,0)):t(17,v=0);const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},x=()=>{t(11,Z=""),t(10,R="")},Y=()=>{t(10,R=""),t(11,Z="ollama")},ne=()=>{t(10,R=""),t(11,Z="openai")},re=()=>{t(10,R=""),t(11,Z="direct")},pe=u=>{t(11,Z=""),t(10,R=u)};function ve(u){Et[u?"unshift":"push"](()=>{L=u,t(12,L)})}const be=(u,S)=>{t(0,E=u.value),t(17,v=S),t(13,$=!1)},Ce=()=>{P()},Ie=u=>{ie(u)},Te=async()=>{Ue.set(!f),await tl("/");const u=document.getElementById("new-chat-button");setTimeout(()=>{u==null||u.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,$=!1)},Me=async()=>{t(9,B=""),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0),ce()};function Ne(u){$=u,t(13,$)}return a.$$set=u=>{"id"in u&&t(1,b=u.id),"value"in u&&t(0,E=u.value),"placeholder"in u&&t(2,_=u.placeholder),"searchEnabled"in u&&t(3,D=u.searchEnabled),"searchPlaceholder"in u&&t(4,k=u.searchPlaceholder),"showTemporaryChatControl"in u&&t(5,I=u.showTemporaryChatControl),"items"in u&&t(6,G=u.items),"className"in u&&t(7,O=u.className),"triggerClassName"in u&&t(8,H=u.triggerClassName),"$$scope"in u&&t(43,w=u.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&65&&t(15,j=G.find(u=>u.value===E)??""),a.$$.dirty[0]&3648&&t(18,l=(B?W.search(B).map(u=>u.item).filter(u=>{var S;return R===""?!0:(((S=u.model)==null?void 0:S.tags)??[]).map(F=>F.name).includes(R)}).filter(u=>{var S,F,Q;if(Z==="")return!0;if(Z==="ollama")return((S=u.model)==null?void 0:S.owned_by)==="ollama";if(Z==="openai")return((F=u.model)==null?void 0:F.owned_by)==="openai";if(Z==="direct")return(Q=u.model)==null?void 0:Q.direct}):G.filter(u=>{var S;return R===""?!0:(((S=u.model)==null?void 0:S.tags)??[]).map(F=>F.name).includes(R)}).filter(u=>{var S,F,Q;if(Z==="")return!0;if(Z==="ollama")return((S=u.model)==null?void 0:S.owned_by)==="ollama";if(Z==="openai")return((F=u.model)==null?void 0:F.owned_by)==="openai";if(Z==="direct")return(Q=u.model)==null?void 0:Q.direct})).filter(u=>{var S,F,Q;return!(((Q=(F=(S=u.model)==null?void 0:S.info)==null?void 0:F.meta)==null?void 0:Q.hidden)??!1)})),a.$$.dirty[0]&3072&&ce()},[E,b,_,D,k,I,G,O,H,B,R,Z,L,$,N,j,d,v,l,r,n,i,c,f,p,ce,P,ie,g,De,Ve,x,Y,ne,re,pe,ve,be,Ce,Ie,Te,Me,Ne,w]}class Wl extends Dt{constructor(e){super(),Vt(this,e,Dl,El,yt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{Wl as S};
//# sourceMappingURL=deDhT3NG.js.map
