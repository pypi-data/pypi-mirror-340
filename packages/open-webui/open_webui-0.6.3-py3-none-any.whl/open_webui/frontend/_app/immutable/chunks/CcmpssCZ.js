import{s as Et,D as Ae,E as Pe,a as M,d as m,f as g,i as O,g as E,n as ke,y as $t,A as It,j as pe,p as Tt,F as Mt,q as Nt,k as H,o as q,C as Le,e as C,c as I,r as zt,v as Ot,w as Bt,x as St,P as ye,t as F,b as Y,h as R,B as je,u as re,H as Dt,S as Ee,V as He}from"./vexCXLX9.js";import{S as Vt,i as Ct,f as At,b as Q,d as X,m as x,t as T,a as P,e as ee,g as oe,c as se}from"./Cdll-xsj.js";import{e as fe}from"./DNXpXRYa.js";import"./CyFe254w.js";import{M as Pt,a as Lt,b as jt}from"./CgO5y2dz.js";import{m as qe}from"./_0_gBwjO.js";import{F as Ht}from"./CU2r43ac.js";import{f as qt}from"./g5t9vw8M.js";import{C as Ut}from"./Cux5bsOp.js";import{C as Zt}from"./BfKRbBRz.js";import{S as Wt}from"./DjtyHjFA.js";import{g as Ft,p as Yt,d as Gt}from"./D1_l7Dyg.js";import{M as ve,a as Rt,c as Jt,i as Kt,u as Qt,l as Ue,m as Xt}from"./DGGT1TU5.js";import{t as ue}from"./DMk2eJ1b.js";import{s as xt,f as Ze}from"./BV4VEgU5.js";import{g as el}from"./CXbnwk7v.js";import{T as ce}from"./DzHlmjPS.js";import{S as tl}from"./DBcgpmMt.js";import{g as ll}from"./CwHk5WVc.js";function al(a){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(l){e=Pe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=M(e);t=Pe(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(t).forEach(m),n.forEach(m),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width",a[1]),g(e,"stroke","currentColor"),g(e,"class",a[0])},m(l,n){O(l,e,n),E(e,t)},p(l,[n]){n&2&&g(e,"stroke-width",l[1]),n&1&&g(e,"class",l[0])},i:ke,o:ke,d(l){l&&m(e)}}}function nl(a,e,t){let{className:l="size-4"}=e,{strokeWidth:n="1.5"}=e;return a.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class rl extends Vt{constructor(e){super(),Ct(this,e,nl,al,Et,{className:0,strokeWidth:1})}}function We(a,e,t){const l=a.slice();return l[48]=e[t],l}function Fe(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Ye(a,e,t){const l=a.slice();return l[54]=e[t],l}function Ge(a,e,t){const l=a.slice();return l[54]=e[t],l}function Re(a,e,t){const l=a.slice();return l[54]=e[t],l}function ol(a){let e;return{c(){e=F(a[2])},l(t){e=Y(t,a[2])},m(t,l){O(t,e,l)},p(t,l){l[0]&4&&R(e,t[2])},d(t){t&&m(e)}}}function sl(a){let e=a[15].label+"",t;return{c(){t=F(e)},l(l){t=Y(l,e)},m(l,n){O(l,t,n)},p(l,n){n[0]&32768&&e!==(e=l[15].label+"")&&R(t,e)},d(l){l&&m(t)}}}function il(a){let e,t,l,n,r;function o(d,f){return d[15]?sl:ol}let s=o(a),i=s(a);return l=new Ut({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=C("div"),i.c(),t=H(),Q(l.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var f=M(e);i.l(f),t=q(f),X(l.$$.fragment,f),f.forEach(m),this.h()},h(){g(e,"class",n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+a[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(d,f){O(d,e,f),i.m(e,null),E(e,t),x(l,e,null),r=!0},p(d,f){s===(s=o(d))&&i?i.p(d,f):(i.d(1),i=s(d),i&&(i.c(),i.m(e,t))),(!r||f[0]&256&&n!==(n="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+d[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&g(e,"class",n)},i(d){r||(T(l.$$.fragment,d),r=!0)},o(d){P(l.$$.fragment,d),r=!1},d(d){d&&m(e),i.d(),ee(l)}}}function Je(a){let e,t,l,n,r,o,s;return t=new Wt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=C("div"),Q(t.$$.fragment),l=H(),n=C("input"),this.h()},l(i){e=I(i,"DIV",{class:!0});var d=M(e);X(t.$$.fragment,d),l=q(d),n=I(d,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),d.forEach(m),this.h()},h(){g(n,"id","model-search-input"),g(n,"class","w-full text-sm bg-transparent outline-hidden"),g(n,"placeholder",a[4]),g(n,"autocomplete","off"),g(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,d){O(i,e,d),x(t,e,null),E(e,l),E(e,n),je(n,a[9]),r=!0,o||(s=[re(n,"input",a[29]),re(n,"keydown",a[30])],o=!0)},p(i,d){(!r||d[0]&16)&&g(n,"placeholder",i[4]),d[0]&512&&n.value!==i[9]&&je(n,i[9])},i(i){r||(T(t.$$.fragment,i),r=!0)},o(i){P(t.$$.fragment,i),r=!1},d(i){i&&m(e),ee(t),o=!1,Dt(s)}}}function Ke(a){let e,t,l=a[6].find(vt)&&a[6].find(bt)||a[6].find(wt)||a[14].length>0,n,r=a[6].find(gt)&&a[6].find(pt),o,s=a[6].find(_t),i,d,f,v=l&&Qe(a),k=r&&Xe(a),p=s&&xe(a),_=fe(a[14]),b=[];for(let w=0;w<_.length;w+=1)b[w]=et(Re(a,_,w));return{c(){e=C("div"),t=C("div"),v&&v.c(),n=H(),k&&k.c(),o=H(),p&&p.c(),i=H();for(let w=0;w<b.length;w+=1)b[w].c();this.h()},l(w){e=I(w,"DIV",{class:!0});var y=M(e);t=I(y,"DIV",{class:!0});var V=M(t);v&&v.l(V),n=q(V),k&&k.l(V),o=q(V),p&&p.l(V),i=q(V);for(let z=0;z<b.length;z+=1)b[z].l(V);V.forEach(m),y.forEach(m),this.h()},h(){g(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),g(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(w,y){O(w,e,y),E(e,t),v&&v.m(t,null),E(t,n),k&&k.m(t,null),E(t,o),p&&p.m(t,null),E(t,i);for(let V=0;V<b.length;V+=1)b[V]&&b[V].m(t,null);a[36](t),d||(f=re(e,"wheel",El),d=!0)},p(w,y){if(y[0]&16448&&(l=w[6].find(vt)&&w[6].find(bt)||w[6].find(wt)||w[14].length>0),l?v?v.p(w,y):(v=Qe(w),v.c(),v.m(t,n)):v&&(v.d(1),v=null),y[0]&64&&(r=w[6].find(gt)&&w[6].find(pt)),r?k?k.p(w,y):(k=Xe(w),k.c(),k.m(t,o)):k&&(k.d(1),k=null),y[0]&64&&(s=w[6].find(_t)),s?p?p.p(w,y):(p=xe(w),p.c(),p.m(t,i)):p&&(p.d(1),p=null),y[0]&19456){_=fe(w[14]);let V;for(V=0;V<_.length;V+=1){const z=Re(w,_,V);b[V]?b[V].p(z,y):(b[V]=et(z),b[V].c(),b[V].m(t,null))}for(;V<b.length;V+=1)b[V].d(1);b.length=_.length}},d(w){w&&m(e),v&&v.d(),k&&k.d(),p&&p.d(),ye(b,w),a[36](null),d=!1,f()}}}function Qe(a){let e,t=a[20].t("All")+"",l,n,r,o;return{c(){e=C("button"),l=F(t),this.h()},l(s){e=I(s,"BUTTON",{class:!0});var i=M(e);l=Y(i,t),i.forEach(m),this.h()},h(){g(e,"class",n="min-w-fit outline-none p-1.5 "+(a[10]===""&&a[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){O(s,e,i),E(e,l),r||(o=re(e,"click",a[31]),r=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("All")+"")&&R(l,t),i[0]&3072&&n!==(n="min-w-fit outline-none p-1.5 "+(s[10]===""&&s[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",n)},d(s){s&&m(e),r=!1,o()}}}function Xe(a){let e,t=a[20].t("Local")+"",l,n,r,o,s=a[20].t("External")+"",i,d,f,v;return{c(){e=C("button"),l=F(t),r=H(),o=C("button"),i=F(s),this.h()},l(k){e=I(k,"BUTTON",{class:!0});var p=M(e);l=Y(p,t),p.forEach(m),r=q(k),o=I(k,"BUTTON",{class:!0});var _=M(o);i=Y(_,s),_.forEach(m),this.h()},h(){g(e,"class",n="min-w-fit outline-none p-1.5 "+(a[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),g(o,"class",d="min-w-fit outline-none p-1.5 "+(a[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(k,p){O(k,e,p),E(e,l),O(k,r,p),O(k,o,p),E(o,i),f||(v=[re(e,"click",a[32]),re(o,"click",a[33])],f=!0)},p(k,p){p[0]&1048576&&t!==(t=k[20].t("Local")+"")&&R(l,t),p[0]&2048&&n!==(n="min-w-fit outline-none p-1.5 "+(k[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",n),p[0]&1048576&&s!==(s=k[20].t("External")+"")&&R(i,s),p[0]&2048&&d!==(d="min-w-fit outline-none p-1.5 "+(k[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(o,"class",d)},d(k){k&&(m(e),m(r),m(o)),f=!1,Dt(v)}}}function xe(a){let e,t=a[20].t("Direct")+"",l,n,r,o;return{c(){e=C("button"),l=F(t),this.h()},l(s){e=I(s,"BUTTON",{class:!0});var i=M(e);l=Y(i,t),i.forEach(m),this.h()},h(){g(e,"class",n="min-w-fit outline-none p-1.5 "+(a[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){O(s,e,i),E(e,l),r||(o=re(e,"click",a[34]),r=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&R(l,t),i[0]&2048&&n!==(n="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",n)},d(s){s&&m(e),r=!1,o()}}}function et(a){let e,t=a[54]+"",l,n,r,o,s;function i(){return a[35](a[54])}return{c(){e=C("button"),l=F(t),n=H(),this.h()},l(d){e=I(d,"BUTTON",{class:!0});var f=M(e);l=Y(f,t),n=q(f),f.forEach(m),this.h()},h(){g(e,"class",r="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(d,f){O(d,e,f),E(e,l),E(e,n),o||(s=re(e,"click",i),o=!0)},p(d,f){a=d,f[0]&16384&&t!==(t=a[54]+"")&&R(l,t),f[0]&17408&&r!==(r="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&g(e,"class",r)},d(d){d&&m(e),o=!1,s()}}}function tt(a){let e,t,l=a[20].t("No results found")+"",n;return{c(){e=C("div"),t=C("div"),n=F(l),this.h()},l(r){e=I(r,"DIV",{});var o=M(e);t=I(o,"DIV",{class:!0});var s=M(t);n=Y(s,l),s.forEach(m),o.forEach(m),this.h()},h(){g(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(r,o){O(r,e,o),E(e,t),E(t,n)},p(r,o){o[0]&1048576&&l!==(l=r[20].t("No results found")+"")&&R(n,l)},d(r){r&&m(e)}}}function lt(a){var n;let e,t=fe((n=a[51].model)==null?void 0:n.tags.sort(kt)),l=[];for(let r=0;r<t.length;r+=1)l[r]=at(Ge(a,t,r));return{c(){e=C("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=I(r,"DIV",{class:!0});var o=M(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(m),this.h()},h(){g(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(r,o){O(r,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(r,o){var s;if(o[0]&262144){t=fe((s=r[51].model)==null?void 0:s.tags.sort(kt));let i;for(i=0;i<t.length;i+=1){const d=Ge(r,t,i);l[i]?l[i].p(d,o):(l[i]=at(d),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&m(e),ye(l,r)}}}function at(a){let e,t=a[54].name+"",l,n;return{c(){e=C("div"),l=F(t),n=H(),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=M(e);l=Y(o,t),n=q(o),o.forEach(m),this.h()},h(){g(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,o){O(r,e,o),E(e,l),E(e,n)},p(r,o){o[0]&262144&&t!==(t=r[54].name+"")&&R(l,t)},d(r){r&&m(e)}}}function nt(a){var n,r,o,s,i,d;let e,t,l;return t=new ce({props:{content:`${(r=(n=a[51].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(o=a[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=a[51].model.ollama)!=null&&i.size?`(${(((d=a[51].model.ollama)==null?void 0:d.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[fl]},$$scope:{ctx:a}}}),{c(){e=C("div"),Q(t.$$.fragment),this.h()},l(f){e=I(f,"DIV",{class:!0});var v=M(e);X(t.$$.fragment,v),v.forEach(m),this.h()},h(){g(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,v){O(f,e,v),x(t,e,null),l=!0},p(f,v){var p,_,b,w,y,V;const k={};v[0]&262144&&(k.content=`${(_=(p=f[51].model.ollama)==null?void 0:p.details)!=null&&_.quantization_level?((w=(b=f[51].model.ollama)==null?void 0:b.details)==null?void 0:w.quantization_level)+" ":""}${(y=f[51].model.ollama)!=null&&y.size?`(${(((V=f[51].model.ollama)==null?void 0:V.size)/1024**3).toFixed(1)}GB)`:""}`),v[0]&262144|v[1]&4096&&(k.$$scope={dirty:v,ctx:f}),t.$set(k)},i(f){l||(T(t.$$.fragment,f),l=!0)},o(f){P(t.$$.fragment,f),l=!1},d(f){f&&m(e),ee(t)}}}function fl(a){var n,r;let e,t=(((r=(n=a[51].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=C("span"),l=F(t),this.h()},l(o){e=I(o,"SPAN",{class:!0});var s=M(e);l=Y(s,t),s.forEach(m),this.h()},h(){g(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){O(o,e,s),E(e,l)},p(o,s){var i,d;s[0]&262144&&t!==(t=(((d=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:d.parameter_size)??"")+"")&&R(l,t)},d(o){o&&m(e)}}}function ul(a){var v,k;let e,t,l,n,r,o=a[51].label+"",s,i,d,f=a[51].model.owned_by==="ollama"&&(((k=(v=a[51].model.ollama)==null?void 0:v.details)==null?void 0:k.parameter_size)??"")!==""&&nt(a);return{c(){e=C("img"),l=H(),n=C("div"),r=C("div"),s=F(o),i=H(),f&&f.c(),this.h()},l(p){e=I(p,"IMG",{src:!0,alt:!0,class:!0}),l=q(p),n=I(p,"DIV",{class:!0});var _=M(n);r=I(_,"DIV",{class:!0});var b=M(r);s=Y(b,o),b.forEach(m),i=q(_),f&&f.l(_),_.forEach(m),this.h()},h(){var p,_,b;He(e.src,t=((b=(_=(p=a[51].model)==null?void 0:p.info)==null?void 0:_.meta)==null?void 0:b.profile_image_url)??"/static/favicon.png")||g(e,"src",t),g(e,"alt","Model"),g(e,"class","rounded-full size-5 flex items-center mr-2"),g(r,"class","line-clamp-1"),g(n,"class","flex items-center line-clamp-1")},m(p,_){O(p,e,_),O(p,l,_),O(p,n,_),E(n,r),E(r,s),E(n,i),f&&f.m(n,null),d=!0},p(p,_){var b,w,y,V,z;(!d||_[0]&262144&&!He(e.src,t=((y=(w=(b=p[51].model)==null?void 0:b.info)==null?void 0:w.meta)==null?void 0:y.profile_image_url)??"/static/favicon.png"))&&g(e,"src",t),(!d||_[0]&262144)&&o!==(o=p[51].label+"")&&R(s,o),p[51].model.owned_by==="ollama"&&(((z=(V=p[51].model.ollama)==null?void 0:V.details)==null?void 0:z.parameter_size)??"")!==""?f?(f.p(p,_),_[0]&262144&&T(f,1)):(f=nt(p),f.c(),T(f,1),f.m(n,null)):f&&(oe(),P(f,1,1,()=>{f=null}),se())},i(p){d||(T(f),d=!0)},o(p){P(f),d=!1},d(p){p&&(m(e),m(l),m(n)),f&&f.d()}}}function cl(a){let e,t;return e=new ce({props:{content:"External",$$slots:{default:[ml]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function dl(a){let e,t;return e=new ce({props:{content:"Direct",$$slots:{default:[hl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function ml(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,n){O(l,e,n)},p:ke,d(l){l&&m(e)}}}function hl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,n){O(l,e,n)},p:ke,d(l){l&&m(e)}}}function rt(a){var l,n,r;let e,t;return e=new ce({props:{content:`${qe.parse(Ze((r=(n=(l=a[51].model)==null?void 0:l.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,s){x(e,o,s),t=!0},p(o,s){var d,f,v;const i={};s[0]&262144&&(i.content=`${qe.parse(Ze((v=(f=(d=o[51].model)==null?void 0:d.info)==null?void 0:f.meta)==null?void 0:v.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){ee(e,o)}}}function _l(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){g(e,"class","translate-y-[1px]")},m(l,n){O(l,e,n)},p:ke,d(l){l&&m(e)}}}function ot(a){var o;let e,t,l=fe((o=a[51].model)==null?void 0:o.tags.sort(yt)),n=[];for(let s=0;s<l.length;s+=1)n[s]=st(Ye(a,l,s));const r=s=>P(n[s],1,1,()=>{n[s]=null});return{c(){e=C("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var i=M(e);for(let d=0;d<n.length;d+=1)n[d].l(i);i.forEach(m),this.h()},h(){g(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){O(s,e,i);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);t=!0},p(s,i){var d;if(i[0]&262144){l=fe((d=s[51].model)==null?void 0:d.tags.sort(yt));let f;for(f=0;f<l.length;f+=1){const v=Ye(s,l,f);n[f]?(n[f].p(v,i),T(n[f],1)):(n[f]=st(v),n[f].c(),T(n[f],1),n[f].m(e,null))}for(oe(),f=l.length;f<n.length;f+=1)r(f);se()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)T(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)P(n[i]);t=!1},d(s){s&&m(e),ye(n,s)}}}function gl(a){let e,t=a[54].name+"",l,n;return{c(){e=C("div"),l=F(t),n=H(),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=M(e);l=Y(o,t),o.forEach(m),n=q(r),this.h()},h(){g(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,o){O(r,e,o),E(e,l),O(r,n,o)},p(r,o){o[0]&262144&&t!==(t=r[54].name+"")&&R(l,t)},d(r){r&&(m(e),m(n))}}}function st(a){let e,t;return e=new ce({props:{content:a[54].name,className:"flex-shrink-0",$$slots:{default:[gl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},p(l,n){const r={};n[0]&262144&&(r.content=l[54].name),n[0]&262144|n[1]&4096&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function it(a){let e,t,l;return t=new Zt({}),{c(){e=C("div"),Q(t.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var r=M(e);X(t.$$.fragment,r),r.forEach(m),this.h()},h(){g(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(n,r){O(n,e,r),x(t,e,null),l=!0},i(n){l||(T(t.$$.fragment,n),l=!0)},o(n){P(t.$$.fragment,n),l=!1},d(n){n&&m(e),ee(t)}}}function ft(a){var $,te,J,$e,de,be,we,De,Ve;let e,t,l,n,r,o,s,i,d,f,v,k,p,_,b,w,y,V,z,B,j=a[21]&&(((te=($=a[51])==null?void 0:$.model)==null?void 0:te.tags)??[]).length>0&&lt(a);i=new ce({props:{content:((J=a[22])==null?void 0:J.role)==="admin"?(($e=a[51])==null?void 0:$e.value)??"":"",placement:"top-start",$$slots:{default:[ul]},$$scope:{ctx:a}}});const L=[dl,cl],U=[];function D(K,W){var ae;return(ae=K[51].model)!=null&&ae.direct?0:K[51].model.owned_by==="openai"?1:-1}~(f=D(a))&&(v=U[f]=L[f](a));let N=((we=(be=(de=a[51].model)==null?void 0:de.info)==null?void 0:be.meta)==null?void 0:we.description)&&rt(a),c=!a[21]&&(((Ve=(De=a[51])==null?void 0:De.model)==null?void 0:Ve.tags)??[]).length>0&&ot(a),h=a[0]===a[51].value&&it();function S(){return a[37](a[51],a[53])}return{c(){e=C("button"),t=C("div"),j&&j.c(),l=H(),n=C("div"),r=C("div"),o=C("div"),s=C("div"),Q(i.$$.fragment),d=H(),v&&v.c(),k=H(),N&&N.c(),p=H(),c&&c.c(),_=H(),h&&h.c(),this.h()},l(K){e=I(K,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var W=M(e);t=I(W,"DIV",{class:!0});var ae=M(t);j&&j.l(ae),l=q(ae),n=I(ae,"DIV",{class:!0});var le=M(n);r=I(le,"DIV",{class:!0});var me=M(r);o=I(me,"DIV",{class:!0});var he=M(o);s=I(he,"DIV",{class:!0});var _e=M(s);X(i.$$.fragment,_e),_e.forEach(m),he.forEach(m),me.forEach(m),d=q(le),v&&v.l(le),k=q(le),N&&N.l(le),p=q(le),c&&c.l(le),le.forEach(m),ae.forEach(m),_=q(W),h&&h.l(W),W.forEach(m),this.h()},h(){g(s,"class","flex items-center min-w-fit"),g(o,"class","line-clamp-1"),g(r,"class","flex items-center min-w-fit"),g(n,"class","flex items-center gap-2"),g(t,"class","flex flex-col"),g(e,"aria-label","model-item"),g(e,"class",b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),g(e,"data-arrow-selected",w=a[53]===a[17]),g(e,"data-value",y=a[51].value)},m(K,W){O(K,e,W),E(e,t),j&&j.m(t,null),E(t,l),E(t,n),E(n,r),E(r,o),E(o,s),x(i,s,null),E(n,d),~f&&U[f].m(n,null),E(n,k),N&&N.m(n,null),E(n,p),c&&c.m(n,null),E(e,_),h&&h.m(e,null),V=!0,z||(B=re(e,"click",S),z=!0)},p(K,W){var me,he,_e,Ce,Ie,Te,Me,Ne,u;a=K,a[21]&&(((he=(me=a[51])==null?void 0:me.model)==null?void 0:he.tags)??[]).length>0?j?j.p(a,W):(j=lt(a),j.c(),j.m(t,l)):j&&(j.d(1),j=null);const ae={};W[0]&4456448&&(ae.content=((_e=a[22])==null?void 0:_e.role)==="admin"?((Ce=a[51])==null?void 0:Ce.value)??"":""),W[0]&262144|W[1]&4096&&(ae.$$scope={dirty:W,ctx:a}),i.$set(ae);let le=f;f=D(a),f!==le&&(v&&(oe(),P(U[le],1,1,()=>{U[le]=null}),se()),~f?(v=U[f],v||(v=U[f]=L[f](a),v.c()),T(v,1),v.m(n,k)):v=null),(Me=(Te=(Ie=a[51].model)==null?void 0:Ie.info)==null?void 0:Te.meta)!=null&&Me.description?N?(N.p(a,W),W[0]&262144&&T(N,1)):(N=rt(a),N.c(),T(N,1),N.m(n,p)):N&&(oe(),P(N,1,1,()=>{N=null}),se()),!a[21]&&(((u=(Ne=a[51])==null?void 0:Ne.model)==null?void 0:u.tags)??[]).length>0?c?(c.p(a,W),W[0]&2359296&&T(c,1)):(c=ot(a),c.c(),T(c,1),c.m(n,null)):c&&(oe(),P(c,1,1,()=>{c=null}),se()),a[0]===a[51].value?h?W[0]&262145&&T(h,1):(h=it(),h.c(),T(h,1),h.m(e,null)):h&&(oe(),P(h,1,1,()=>{h=null}),se()),(!V||W[0]&131072&&b!==(b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&g(e,"class",b),(!V||W[0]&131072&&w!==(w=a[53]===a[17]))&&g(e,"data-arrow-selected",w),(!V||W[0]&262144&&y!==(y=a[51].value))&&g(e,"data-value",y)},i(K){V||(T(i.$$.fragment,K),T(v),T(N),T(c),T(h),V=!0)},o(K){P(i.$$.fragment,K),P(v),P(N),P(c),P(h),V=!1},d(K){K&&m(e),j&&j.d(),ee(i),~f&&U[f].d(),N&&N.d(),c&&c.d(),h&&h.d(),z=!1,B()}}}function ut(a){let e,t;return e=new ce({props:{content:a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]}),placement:"top-start",$$slots:{default:[pl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){x(e,l,n),t=!0},p(l,n){const r={};n[0]&1049088&&(r.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),n[0]&1049088|n[1]&4096&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function pl(a){let e,t,l=a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]})+"",n,r,o;return{c(){e=C("button"),t=C("div"),n=F(l),this.h()},l(s){e=I(s,"BUTTON",{class:!0});var i=M(e);t=I(i,"DIV",{class:!0});var d=M(t);n=Y(d,l),d.forEach(m),i.forEach(m),this.h()},h(){g(t,"class","truncate"),g(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){O(s,e,i),E(e,t),E(t,n),r||(o=re(e,"click",a[38]),r=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&R(n,l)},d(s){s&&m(e),r=!1,o()}}}function ct(a){let e,t=a[19][a[48]].digest+"",l;return{c(){e=C("div"),l=F(t),this.h()},l(n){e=I(n,"DIV",{class:!0});var r=M(e);l=Y(r,t),r.forEach(m),this.h()},h(){g(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){O(n,e,r),E(e,l)},p(n,r){r[0]&524288&&t!==(t=n[19][n[48]].digest+"")&&R(l,t)},d(n){n&&m(e)}}}function vl(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,n;function r(){return a[39](a[48])}return{c(){e=C("button"),e.innerHTML=t,this.h()},l(o){e=I(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){g(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){O(o,e,s),l||(n=re(e,"click",r),l=!0)},p(o,s){a=o},d(o){o&&m(e),l=!1,n()}}}function dt(a){let e,t,l,n=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,r,o,s,i,d,f=a[48]+"",v,k,p,_,b="pullProgress"in a[19][a[48]]?`(${a[19][a[48]].pullProgress}%)`:"",w,y,V,z,B,j,L,U="digest"in a[19][a[48]]&&a[19][a[48]].digest&&ct(a);return B=new ce({props:{content:a[20].t("Cancel"),$$slots:{default:[vl]},$$scope:{ctx:a}}}),{c(){e=C("div"),t=C("div"),l=C("div"),l.innerHTML=n,r=H(),o=C("div"),s=C("div"),i=C("div"),d=F('Downloading "'),v=F(f),k=F('"'),p=H(),_=C("div"),w=F(b),y=H(),U&&U.c(),V=H(),z=C("div"),Q(B.$$.fragment),j=H(),this.h()},l(D){e=I(D,"DIV",{class:!0});var N=M(e);t=I(N,"DIV",{class:!0});var c=M(t);l=I(c,"DIV",{class:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-102rp4j"&&(l.innerHTML=n),r=q(c),o=I(c,"DIV",{class:!0});var h=M(o);s=I(h,"DIV",{class:!0});var S=M(s);i=I(S,"DIV",{class:!0});var $=M(i);d=Y($,'Downloading "'),v=Y($,f),k=Y($,'"'),$.forEach(m),p=q(S),_=I(S,"DIV",{class:!0});var te=M(_);w=Y(te,b),te.forEach(m),S.forEach(m),y=q(h),U&&U.l(h),h.forEach(m),c.forEach(m),V=q(N),z=I(N,"DIV",{class:!0});var J=M(z);X(B.$$.fragment,J),J.forEach(m),j=q(N),N.forEach(m),this.h()},h(){g(l,"class","-ml-2 mr-2.5 translate-y-0.5"),g(i,"class","line-clamp-1"),g(_,"class","shrink-0"),g(s,"class","flex gap-1"),g(o,"class","flex flex-col self-start"),g(t,"class","flex"),g(z,"class","mr-2 ml-1 translate-y-0.5"),g(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(D,N){O(D,e,N),E(e,t),E(t,l),E(t,r),E(t,o),E(o,s),E(s,i),E(i,d),E(i,v),E(i,k),E(s,p),E(s,_),E(_,w),E(o,y),U&&U.m(o,null),E(e,V),E(e,z),x(B,z,null),E(e,j),L=!0},p(D,N){(!L||N[0]&524288)&&f!==(f=D[48]+"")&&R(v,f),(!L||N[0]&524288)&&b!==(b="pullProgress"in D[19][D[48]]?`(${D[19][D[48]].pullProgress}%)`:"")&&R(w,b),"digest"in D[19][D[48]]&&D[19][D[48]].digest?U?U.p(D,N):(U=ct(D),U.c(),U.m(o,null)):U&&(U.d(1),U=null);const c={};N[0]&1048576&&(c.content=D[20].t("Cancel")),N[0]&524288|N[1]&4096&&(c.$$scope={dirty:N,ctx:D}),B.$set(c)},i(D){L||(T(B.$$.fragment,D),L=!0)},o(D){P(B.$$.fragment,D),L=!1},d(D){D&&m(e),U&&U.d(),ee(B)}}}function mt(a){let e,t,l,n,r,o=a[20].t("Temporary Chat")+"",s,i,d,f,v,k,p;return n=new rl({props:{className:"size-4",strokeWidth:"2.5"}}),f=new tl({props:{state:a[23]}}),{c(){e=C("div"),t=C("button"),l=C("div"),Q(n.$$.fragment),r=H(),s=F(o),i=H(),d=C("div"),Q(f.$$.fragment),this.h()},l(_){e=I(_,"DIV",{class:!0});var b=M(e);t=I(b,"BUTTON",{class:!0});var w=M(t);l=I(w,"DIV",{class:!0});var y=M(l);X(n.$$.fragment,y),r=q(y),s=Y(y,o),y.forEach(m),i=q(w),d=I(w,"DIV",{});var V=M(d);X(f.$$.fragment,V),V.forEach(m),w.forEach(m),b.forEach(m),this.h()},h(){g(l,"class","flex gap-2.5 items-center"),g(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),g(e,"class","flex items-center mx-2 mb-2")},m(_,b){O(_,e,b),E(e,t),E(t,l),x(n,l,null),E(l,r),E(l,s),E(t,i),E(t,d),x(f,d,null),v=!0,k||(p=re(t,"click",a[40]),k=!0)},p(_,b){(!v||b[0]&1048576)&&o!==(o=_[20].t("Temporary Chat")+"")&&R(s,o);const w={};b[0]&8388608&&(w.state=_[23]),f.$set(w)},i(_){v||(T(n.$$.fragment,_),T(f.$$.fragment,_),v=!0)},o(_){P(n.$$.fragment,_),P(f.$$.fragment,_),v=!1},d(_){_&&m(e),ee(n),ee(f),k=!1,p()}}}function bl(a){var N;let e,t,l=a[14]&&a[6].filter(ht).length>0,n,r,o=!(a[9].trim()in a[19])&&a[9]&&a[16]&&((N=a[22])==null?void 0:N.role)==="admin",s,i,d,f,v,k,p,_=a[3]&&Je(a),b=l&&Ke(a),w=fe(a[18]),y=[];for(let c=0;c<w.length;c+=1)y[c]=ft(Fe(a,w,c));const V=c=>P(y[c],1,1,()=>{y[c]=null});let z=null;w.length||(z=tt(a));let B=o&&ut(a),j=fe(Object.keys(a[19])),L=[];for(let c=0;c<j.length;c+=1)L[c]=dt(We(a,j,c));const U=c=>P(L[c],1,1,()=>{L[c]=null});let D=a[5]&&mt(a);return{c(){_&&_.c(),e=H(),t=C("div"),b&&b.c(),n=H();for(let c=0;c<y.length;c+=1)y[c].c();z&&z.c(),r=H(),B&&B.c(),s=H();for(let c=0;c<L.length;c+=1)L[c].c();i=H(),D&&D.c(),d=H(),f=C("div"),v=H(),k=C("div"),this.h()},l(c){_&&_.l(c),e=q(c),t=I(c,"DIV",{class:!0});var h=M(t);b&&b.l(h),n=q(h);for(let S=0;S<y.length;S+=1)y[S].l(h);z&&z.l(h),r=q(h),B&&B.l(h),s=q(h);for(let S=0;S<L.length;S+=1)L[S].l(h);h.forEach(m),i=q(c),D&&D.l(c),d=q(c),f=I(c,"DIV",{class:!0}),M(f).forEach(m),v=q(c),k=I(c,"DIV",{class:!0}),M(k).forEach(m),this.h()},h(){g(t,"class","px-3 max-h-64 overflow-y-auto scrollbar-hidden group relative"),g(f,"class","hidden w-[42rem]"),g(k,"class","hidden w-[32rem]")},m(c,h){_&&_.m(c,h),O(c,e,h),O(c,t,h),b&&b.m(t,null),E(t,n);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(t,null);z&&z.m(t,null),E(t,r),B&&B.m(t,null),E(t,s);for(let S=0;S<L.length;S+=1)L[S]&&L[S].m(t,null);O(c,i,h),D&&D.m(c,h),O(c,d,h),O(c,f,h),O(c,v,h),O(c,k,h),p=!0},p(c,h){var S;if(c[3]?_?(_.p(c,h),h[0]&8&&T(_,1)):(_=Je(c),_.c(),T(_,1),_.m(e.parentNode,e)):_&&(oe(),P(_,1,1,()=>{_=null}),se()),h[0]&16448&&(l=c[14]&&c[6].filter(ht).length>0),l?b?b.p(c,h):(b=Ke(c),b.c(),b.m(t,n)):b&&(b.d(1),b=null),h[0]&7741441){w=fe(c[18]);let $;for($=0;$<w.length;$+=1){const te=Fe(c,w,$);y[$]?(y[$].p(te,h),T(y[$],1)):(y[$]=ft(te),y[$].c(),T(y[$],1),y[$].m(t,r))}for(oe(),$=w.length;$<y.length;$+=1)V($);se(),!w.length&&z?z.p(c,h):w.length?z&&(z.d(1),z=null):(z=tt(c),z.c(),z.m(t,r))}if(h[0]&4784640&&(o=!(c[9].trim()in c[19])&&c[9]&&c[16]&&((S=c[22])==null?void 0:S.role)==="admin"),o?B?(B.p(c,h),h[0]&4784640&&T(B,1)):(B=ut(c),B.c(),T(B,1),B.m(t,s)):B&&(oe(),P(B,1,1,()=>{B=null}),se()),h[0]&135790592){j=fe(Object.keys(c[19]));let $;for($=0;$<j.length;$+=1){const te=We(c,j,$);L[$]?(L[$].p(te,h),T(L[$],1)):(L[$]=dt(te),L[$].c(),T(L[$],1),L[$].m(t,null))}for(oe(),$=j.length;$<L.length;$+=1)U($);se()}c[5]?D?(D.p(c,h),h[0]&32&&T(D,1)):(D=mt(c),D.c(),T(D,1),D.m(d.parentNode,d)):D&&(oe(),P(D,1,1,()=>{D=null}),se())},i(c){if(!p){T(_);for(let h=0;h<w.length;h+=1)T(y[h]);T(B);for(let h=0;h<j.length;h+=1)T(L[h]);T(D),p=!0}},o(c){P(_),y=y.filter(Boolean);for(let h=0;h<y.length;h+=1)P(y[h]);P(B),L=L.filter(Boolean);for(let h=0;h<L.length;h+=1)P(L[h]);P(D),p=!1},d(c){c&&(m(e),m(t),m(i),m(d),m(f),m(v),m(k)),_&&_.d(c),b&&b.d(),ye(y,c),z&&z.d(),B&&B.d(),ye(L,c),D&&D.d(c)}}}function wl(a){let e;const t=a[28].default,l=zt(t,a,a[43],null),n=l||bl(a);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,o){n&&n.m(r,o),e=!0},p(r,o){l?l.p&&(!e||o[1]&4096)&&Ot(l,t,r,r[43],e?St(t,r[43],o,null):Bt(r[43]),null):n&&n.p&&(!e||o[0]&16744057)&&n.p(r,e?o:[-1,-1])},i(r){e||(T(n,r),e=!0)},o(r){P(n,r),e=!1},d(r){n&&n.d(r)}}}function kl(a){let e,t,l,n;return e=new Lt({props:{class:"relative w-full font-primary","aria-label":a[2],id:"model-selector-"+a[1]+"-button",$$slots:{default:[il]},$$scope:{ctx:a}}}),l=new jt({props:{class:" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:qt,side:a[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[wl]},$$scope:{ctx:a}}}),{c(){Q(e.$$.fragment),t=H(),Q(l.$$.fragment)},l(r){X(e.$$.fragment,r),t=q(r),X(l.$$.fragment,r)},m(r,o){x(e,r,o),O(r,t,o),x(l,r,o),n=!0},p(r,o){const s={};o[0]&4&&(s["aria-label"]=r[2]),o[0]&2&&(s.id="model-selector-"+r[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:r}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(r[21]?"w-full":`${r[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=r[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:r}),l.$set(i)},i(r){n||(T(e.$$.fragment,r),T(l.$$.fragment,r),n=!0)},o(r){P(e.$$.fragment,r),P(l.$$.fragment,r),n=!1},d(r){r&&m(t),ee(e,r),ee(l,r)}}}function yl(a){let e,t,l;function n(o){a[42](o)}let r={onOpenChange:a[41],closeFocus:!1,$$slots:{default:[kl]},$$scope:{ctx:a}};return a[13]!==void 0&&(r.open=a[13]),e=new Pt({props:r}),$t.push(()=>At(e,"open",n)),{c(){Q(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,s){x(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],It(()=>t=!1)),e.$set(i)},i(o){l||(T(e.$$.fragment,o),l=!0)},o(o){P(e.$$.fragment,o),l=!1},d(o){ee(e,o)}}}const ht=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},_t=a=>{var e;return(e=a.model)==null?void 0:e.direct},gt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},pt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},vt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},bt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},wt=a=>{var e;return(e=a.model)==null?void 0:e.direct},El=a=>{a.deltaY!==0&&(a.preventDefault(),a.currentTarget.scrollLeft+=a.deltaY)},kt=(a,e)=>a.name.localeCompare(e.name),yt=(a,e)=>a.name.localeCompare(e.name);function $l(a,e,t){let l,n,r,o,s,i,d,f;pe(a,ve,u=>t(19,n=u)),pe(a,Rt,u=>t(44,o=u)),pe(a,Jt,u=>t(45,s=u)),pe(a,Kt,u=>t(21,i=u)),pe(a,Qt,u=>t(22,d=u)),pe(a,Ue,u=>t(23,f=u));let{$$slots:v={},$$scope:k}=e;const p=Tt("i18n");pe(a,p,u=>t(20,r=u)),Mt();let{id:_=""}=e,{value:b=""}=e,{placeholder:w="Select a model"}=e,{searchEnabled:y=!0}=e,{searchPlaceholder:V=r.t("Search a model")}=e,{showTemporaryChatControl:z=!1}=e,{items:B=[]}=e,{className:j="w-[32rem]"}=e,{triggerClassName:L="text-lg"}=e,U,D=!1,N=[],c="",h="",S="",$="",te=null,J=0;const $e=new Ht(B.map(u=>{var Z,G,ge,ie,ze;return{...u,modelName:(Z=u.model)==null?void 0:Z.name,tags:(((G=u.model)==null?void 0:G.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(ze=(ie=(ge=u.model)==null?void 0:ge.info)==null?void 0:ie.meta)==null?void 0:ze.description}}),{keys:["value","tags","modelName"],threshold:.4}),de=async()=>{await Le();const u=l.findIndex(Z=>Z.value===b);u>=0?t(17,J=u):t(17,J=0),await Le();const A=document.querySelector('[data-arrow-selected="true"]');A==null||A.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},be=async()=>{var G;const u=h.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(n),n[u]){ue.error(r.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(n).length===3){ue.error(r.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[A,Z]=await Yt(localStorage.token,u,"0").catch(ge=>(ue.error(`${ge}`),null));if(A){const ge=A.body.pipeThrough(new TextDecoderStream).pipeThrough(xt(`
`)).getReader();for(ve.set({...n,[u]:{...n[u],abortController:Z,reader:ge,done:!1}});;)try{const{value:ie,done:ze}=await ge.read();if(ze)break;let Oe=ie.split(`
`);for(const Se of Oe)if(Se!==""){let ne=JSON.parse(Se);if(console.log(ne),ne.error)throw ne.error;if(ne.detail)throw ne.detail;if(ne.status)if(ne.digest){let Be=0;ne.completed?Be=Math.round(ne.completed/ne.total*1e3)/10:Be=100,ve.set({...n,[u]:{...n[u],pullProgress:Be,digest:ne.digest}})}else ue.success(ne.status),ve.set({...n,[u]:{...n[u],done:ne.status==="success"}})}}catch(ie){console.log(ie),typeof ie!="string"&&(ie=ie.message),ue.error(`${ie}`);break}n[u].done?(ue.success(r.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),Xt.set(await el(localStorage.token,((G=s==null?void 0:s.features)==null?void 0:G.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):ue.error(r.t("Download canceled")),delete n[u],ve.set({...n})}};Nt(async()=>{t(16,te=await Ft(localStorage.token).catch(u=>!1)),B&&(t(14,N=B.filter(u=>{var A,Z,G;return!(((G=(Z=(A=u.model)==null?void 0:A.info)==null?void 0:Z.meta)==null?void 0:G.hidden)??!1)}).flatMap(u=>{var A;return((A=u.model)==null?void 0:A.tags)??[]}).map(u=>u.name)),t(14,N=Array.from(new Set(N)).sort((u,A)=>u.localeCompare(A))))});const we=async u=>{const{reader:A,abortController:Z}=n[u];Z&&Z.abort(),A&&(await A.cancel(),delete n[u],ve.set({...n}),await Gt(localStorage.token,u),ue.success(`${u} download has been canceled`))};function De(){h=this.value,t(9,h)}const Ve=u=>{if(u.code==="Enter"&&l.length>0){t(0,b=l[J].value),t(13,D=!1);return}else u.code==="ArrowDown"?t(17,J=Math.min(J+1,l.length-1)):u.code==="ArrowUp"?t(17,J=Math.max(J-1,0)):t(17,J=0);const A=document.querySelector('[data-arrow-selected="true"]');A==null||A.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},K=()=>{t(11,$=""),t(10,S="")},W=()=>{t(10,S=""),t(11,$="ollama")},ae=()=>{t(10,S=""),t(11,$="openai")},le=()=>{t(10,S=""),t(11,$="direct")},me=u=>{t(11,$=""),t(10,S=u)};function he(u){$t[u?"unshift":"push"](()=>{U=u,t(12,U)})}const _e=(u,A)=>{t(0,b=u.value),t(17,J=A),t(13,D=!1)},Ce=()=>{be()},Ie=u=>{we(u)},Te=async()=>{Ue.set(!f),await ll("/");const u=document.getElementById("new-chat-button");setTimeout(()=>{u==null||u.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,D=!1)},Me=async()=>{t(9,h=""),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0),de()};function Ne(u){D=u,t(13,D)}return a.$$set=u=>{"id"in u&&t(1,_=u.id),"value"in u&&t(0,b=u.value),"placeholder"in u&&t(2,w=u.placeholder),"searchEnabled"in u&&t(3,y=u.searchEnabled),"searchPlaceholder"in u&&t(4,V=u.searchPlaceholder),"showTemporaryChatControl"in u&&t(5,z=u.showTemporaryChatControl),"items"in u&&t(6,B=u.items),"className"in u&&t(7,j=u.className),"triggerClassName"in u&&t(8,L=u.triggerClassName),"$$scope"in u&&t(43,k=u.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&65&&t(15,c=B.find(u=>u.value===b)??""),a.$$.dirty[0]&3648&&t(18,l=(h?$e.search(h).map(u=>u.item).filter(u=>{var A;return S===""?!0:(((A=u.model)==null?void 0:A.tags)??[]).map(Z=>Z.name).includes(S)}).filter(u=>{var A,Z,G;if($==="")return!0;if($==="ollama")return((A=u.model)==null?void 0:A.owned_by)==="ollama";if($==="openai")return((Z=u.model)==null?void 0:Z.owned_by)==="openai";if($==="direct")return(G=u.model)==null?void 0:G.direct}):B.filter(u=>{var A;return S===""?!0:(((A=u.model)==null?void 0:A.tags)??[]).map(Z=>Z.name).includes(S)}).filter(u=>{var A,Z,G;if($==="")return!0;if($==="ollama")return((A=u.model)==null?void 0:A.owned_by)==="ollama";if($==="openai")return((Z=u.model)==null?void 0:Z.owned_by)==="openai";if($==="direct")return(G=u.model)==null?void 0:G.direct})).filter(u=>{var A,Z,G;return!(((G=(Z=(A=u.model)==null?void 0:A.info)==null?void 0:Z.meta)==null?void 0:G.hidden)??!1)})),a.$$.dirty[0]&3072&&de()},[b,_,w,y,V,z,B,j,L,h,S,$,U,D,N,c,te,J,l,n,r,i,d,f,p,de,be,we,v,De,Ve,K,W,ae,le,me,he,_e,Ce,Ie,Te,Me,Ne,k]}class Wl extends Vt{constructor(e){super(),Ct(this,e,$l,yl,Et,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{Wl as S};
//# sourceMappingURL=CcmpssCZ.js.map
