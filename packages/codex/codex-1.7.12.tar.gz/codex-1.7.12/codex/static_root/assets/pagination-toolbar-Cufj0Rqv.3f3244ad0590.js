import{g as me,p as ne,d as at,t as E,u as he,a as o,J as Se,aW as Ve,_ as T,v,V as we,y as re,w as L,m as Z,q as u,a5 as Ce,D as oe,aX as st,M as N,k as p,G as h,n as ie,z,aw as it,ad as ye,aY as nt,aZ as rt,az as ot,l as _,A as fe,a_ as lt,a$ as ut,C as O,T as dt,$ as Fe,x as ae,s as g,ar as ct,b0 as mt,j as ht,b1 as ft,F as pe,af as pt,ab as vt,ac as gt,a8 as De,b2 as bt,X as kt,aa as yt,c as k,b3 as Ne,aP as Te,aR as Le,r as _e,b4 as _t,b5 as Ee,aV as St,aU as wt,i as ze,b6 as Ct,f as Q,S as Ie,ai as Tt,aL as Mt,b as Bt}from"./main-JUy8mnXG.js";import{w as Rt,V as ve,k as Oe,n as Vt,x as Nt,j as Lt,R as It,y as xt,u as $t,i as Pt,c as xe}from"./forwardRefs-BxFNqo8E.js";import{c as Ft,d as Dt}from"./VSelect-BpkoCPsm.js";import{a as Et,c as zt,d as Ot,V as At}from"./VDialog-CoOMSEbM.js";import{C as Gt}from"./change-password-dialog-DOioR_QK.js";import{d as jt,f as Ut,u as qt,m as Ht,g as Kt,h as $e,i as Wt}from"./VSelectionControl-DvYb3Pi4.js";import{V as Ae}from"./VTable-DbFt9lJE.js";import{C as Ge}from"./confirm-dialog-BRUkbajJ.js";import{P as Yt,V as Zt}from"./unauthorized-CvdCW-Cq.js";const Xt=ne({...Se(),...Rt({variant:"text"})},"VToolbarItems"),ni=me()({name:"VToolbarItems",props:Xt(),setup(e,t){let{slots:a}=t;return at({VBtn:{color:E(e,"color"),height:"inherit",variant:E(e,"variant")}}),he(()=>{var n;return o("div",{class:["v-toolbar-items",e.class],style:e.style},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),ke=new Set(["",Ve,Ve.toString(),void 0]),Jt=function(e){let t;if(ke.has(e))t=e;else if(e instanceof Object)if("ids"in e){const a=new Set(e.ids);ke.intersection(a).size>0?t=void 0:t={value:e.ids.join(","),title:e.name}}else ke.has(e.pk)?t=void 0:t={value:e.pk,title:e.name};else t={value:e,title:e.toString()};return e!=null&&e.url&&(t.url=e.url),t},Qt=function(e,t){return e.title<t.title?-1:e.title>t.title?1:0},ea=function(e,t){return Number.parseFloat(e.title)-Number.parseFloat(t.title)},ta=function(e,t,a=!1){var l;const n=e||[],r=t&&t.toLowerCase();let s=[];for(const d of n){const m=Jt(d);m!=null&&(!r||(l=m==null?void 0:m.title)!=null&&l.toLowerCase().includes(r))&&s.push(m)}const i=a?ea:Qt;return s.sort(i)},aa={name:"ToolbarSelect",props:{selectLabel:{type:String,default:""},maxSelectLen:{type:Number,default:0}},computed:{style(){if(this.maxSelectLen){const e=this.$vuetify.display.xs?"max-width":"width",t=this.maxSelectLen*.7+"em";return`${e}: ${t}`}return""}}};function sa(e,t,a,n,r,s){return u(),v(Ft,Z(e.$attrs,{label:a.selectLabel,"aria-label":a.selectLabel,class:"toolbarSelect",density:"compact","full-width":"","menu-props":{maxHeight:void 0},"hide-details":"auto",style:s.style,variant:"plain"}),we({item:L(({item:i,props:l})=>[o(Et,Z(l,{density:"compact",variant:"plain",title:i.title,value:i.value}),null,16,["title","value"])]),_:2},[re(e.$slots,(i,l)=>({name:l,fn:L(d=>[Ce(e.$slots,l,Z({props:i},d),void 0,!0)])}))]),1040,["label","aria-label","style"])}const ri=T(aa,[["render",sa],["__scopeId","data-v-cda2da63"]]),oi=zt("v-spacer","div","VSpacer"),ia={name:"BookCover",props:{group:{type:String,required:!0},pks:{type:Array,required:!0},childCount:{type:Number,default:1},finished:{type:Boolean},mtime:{type:Number,default:Date.now()}},data(){return{showPlaceholder:!1}},computed:{...oe(N,["coverSettings"]),coverSrc(){return st({group:this.group,pks:this.pks},this.coverSettings,this.mtime)},multiPkClasses(){const e=this.pks.length,t={};return e>=4?t.stack4=!0:e>1&&(t[`stack${e}`]=!0),t}},mounted:function(){this.delayPlaceholder()},methods:{delayPlaceholder:function(){setTimeout(()=>{this.showPlaceholder=!0},2e3)}}},na={class:"bookCover"},ra={key:1,class:"childCount"};function oa(e,t,a,n,r,s){return u(),p("div",na,[o(Ot,{src:s.coverSrc,class:ie(["coverImg",s.multiPkClasses])},null,8,["src","class"]),a.finished!==!0?(u(),p("div",{key:0,class:ie({unreadFlag:!0,mixedreadFlag:a.finished===null})},null,2)):h("",!0),a.group!=="c"?(u(),p("span",ra,z(a.childCount),1)):h("",!0)])}const la=T(ia,[["render",oa],["__scopeId","data-v-de968aef"]]),ua=10,da={name:"DownloadButton",components:{ConfirmDialog:Ge},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},data(){return{mdiDownload:ot}},computed:{...oe(N,["filterOnlySettings","groupNames"]),show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},isOneComic(){var e,t,a;return((e=this.item)==null?void 0:e.group)==="c"&&((a=(t=this.item)==null?void 0:t.ids)==null?void 0:a.length)===1},downloadFn(){var e;return this.isOneComic?this.item.name:`${this.groupNames[(e=this.item)==null?void 0:e.group]} - ${this.item.name} Comics.zip`},downloadURL(){var t,a,n,r;let e="";if(this.isOneComic){const s=this.item.ids[0];e=nt({pk:s},this.downloadFn,(t=this.item)==null?void 0:t.mtime)}else{const s=(a=this.item)==null?void 0:a.group,i=(n=this.item)==null?void 0:n.ids,l=this.filterOnlySettings;e=rt({group:s,pks:i},this.downloadFn,l,(r=this.item)==null?void 0:r.mtime)}return e},formattedChildren(){var e;return ye.format((e=this.item)==null?void 0:e.childCount)},title(){let e="Download";return e+=this.isOneComic?" Book":` ${this.formattedChildren} Books`,e},confirm(){var e;return((e=this.item)==null?void 0:e.childCount)>ua},confirmText(){return this.confirm?`Download ${this.formattedChildren} books`:""}},methods:{download(){const e=this.downloadURL,t=this.downloadFn;if(this.isOneComic)it(e,t);else{const a=document.createElement("a");a.download=this.downloadFn,a.href=this.downloadURL,a.click(),a.remove()}}}};function ca(e,t,a,n,r,s){const i=_("ConfirmDialog");return s.show?(u(),v(i,{key:0,button:a.button,"button-text":s.title,confirm:s.confirm,"confirm-text":"Download","prepend-icon":r.mdiDownload,"title-text":s.title,text:"May take a while",onConfirm:s.download},null,8,["button","button-text","confirm","prepend-icon","title-text","onConfirm"])):h("",!0)}const ma=T(da,[["render",ca],["__scopeId","data-v-b589c090"]]),ha=1,fa={name:"MarkReadButton",components:{ConfirmDialog:Ge},props:{button:{type:Boolean,default:!1},item:{type:Object,required:!0}},computed:{...oe(N,["groupNames"]),verb(){return this.item.finished?"Unread":"Read"},confirm(){return this.item.children>ha},show(){var e,t;return((t=(e=this.item)==null?void 0:e.ids)==null?void 0:t.length)>0&&!this.item.ids.includes(0)},icon(){return this.item.finished?lt:ut},confirmText(){return this.confirm?`Mark ${this.verb}`:""},markReadText(){const e=["Mark"];this.item.group!="c"&&e.push("Entire");const t=this.groupNames[this.item.group];return e.push(t,this.verb),e.join(" ")},itemName(){return this.item.name||"(Empty)"}},methods:{...fe(N,["setBookmarkFinished"]),toggleRead:function(){this.setBookmarkFinished(this.item,!this.item.finished)}}};function pa(e,t,a,n,r,s){const i=_("ConfirmDialog");return s.show?(u(),v(i,{key:0,button:a.button,"button-text":s.markReadText,confirm:s.confirm,"confirm-text":s.confirmText,"prepend-icon":s.icon,"title-text":s.markReadText,text:s.itemName,onConfirm:s.toggleRead},null,8,["button","button-text","confirm","confirm-text","prepend-icon","title-text","text","onConfirm"])):h("",!0)}const va=T(fa,[["render",pa],["__scopeId","data-v-c904f535"]]),ga=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],ba=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],ka=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],ya=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Pe=(e,t,a)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(n=e.toLocaleString(void 0,a)),n};function je(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?ya:ka:t.binary?ba:ga,n=t.space?" ":"";if(t.signed&&e===0)return` 0${n}${a[0]}`;const r=e<0,s=r?"-":t.signed?"+":"";r&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i={maximumFractionDigits:t.maximumFractionDigits,...i}),e<1){const b=Pe(e,t.locale,i);return s+b+n+a[0]}const l=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),a.length-1);e/=(t.binary?1024:1e3)**l,i||(e=e.toPrecision(3));const d=Pe(Number(e),t.locale,i),m=a[l];return s+d+n+m}const _a={name:"MetadataExpandButton"};function Sa(e,t,a,n,r,s){return u(),v(ve,{density:"compact",text:"...expand",variant:"text"})}const wa=T(_a,[["render",Sa]]),Ca={name:"MetadataTextBox",components:{ExpandButton:wa},props:{group:{type:String,default:""},highlight:{type:Boolean,default:!1},label:{type:String,default:""},maxHeight:{type:Number,default:0},value:{type:[Object,String,Number,Boolean],default:void 0}},data(){return{mdiOpenInNew:Fe,expanded:!1,mounted:!1}},computed:{...oe(N,["groupNames"]),...O(N,{browserShow:e=>e.settings.show,browserTopGroup:e=>e.settings.topGroup,folderViewEnabled:e=>e.page.adminFlags.folderView}),computedValue(){return this.value&&this.value.name!==void 0?this.value.name:this.value},lastSlashIndex(){return this.computedValue.lastIndexOf("/")+1},displayValue(){let e;return this.group==="f"&&this.computedValue?e=this.computedValue.slice(0,Math.max(0,this.lastSlashIndex)):this.group==="v"&&this.computedValue?e=dt(this.computedValue):e=this.computedValue,e},textValueStyles(){const e=this.maxHeight>0&&!this.expanded?this.maxHeight:0;return e?"max-height: "+e+"px;":""},textValueRefName(){return"mdTextValue"+this.label.replaceAll(" ","")},isOverflow(){if(!this.mounted)return!1;const e=this.$refs[this.textValueRefName];return e?e.clientHeight<e.scrollHeight:!1},showExpandButton(){return!this.expanded&&this.maxHeight>0&&this.isOverflow},linkPks(){return(this.value.ids||[this.value.pk]).join(",")},clickable(){var t;const e=this.$router.currentRoute.value.params;return!this.group||e.group===this.group||this.group==="f"&&!this.folderViewEnabled||!["a","f"].includes(this.group)&&!this.browserShow[this.group]?!1:!!((t=this.linkPks)!=null&&t.length)},classes(){return{clickable:this.clickable,highlight:this.highlight}},toRoute(){if(!this.clickable)return"";const e=this.group,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){return{topGroup:this.getTopGroup(this.group)}},title(){let e;return this.label?e=this.label:this.group?e=this.groupNames[this.group]:e="",this.toRoute?`Browse to ${e}`:e},baseName(){return this.group==="f"?this.computedValue.slice(Math.max(0,this.lastSlashIndex)):""}},mounted(){this.mounted=!0},methods:{...fe(N,["routeWithSettings","getTopGroup"]),onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ta={key:0,class:"text"},Ma={key:0,class:"textLabel"},Ba=["title"],Ra={key:0,class:"textContent"};function Va(e,t,a,n,r,s){const i=_("ExpandButton");return s.displayValue?(u(),p("div",Ta,[a.label?(u(),p("div",Ma,[ae(z(a.label)+" ",1),s.showExpandButton?(u(),v(i,{key:0,class:"expandButton",onClick:t[0]||(t[0]=l=>r.expanded=!0)})):h("",!0)])):h("",!0),o(jt,null,{default:L(()=>[g("div",null,[g("div",{ref:s.textValueRefName,class:"textValue",style:ct(s.textValueStyles)},[g("span",{class:ie(["textContent",s.classes]),title:s.title,onClick:t[1]||(t[1]=(...l)=>s.onClick&&s.onClick(...l))},z(s.displayValue),11,Ba),s.baseName?(u(),p("span",Ra,z(s.baseName),1)):h("",!0)],4),s.showExpandButton&&!a.label?(u(),v(i,{key:0,class:"expandButton",onClick:t[2]||(t[2]=l=>r.expanded=!0)})):h("",!0)])]),_:1})])):h("",!0)}const Me=T(Ca,[["render",Va],["__scopeId","data-v-41dc5477"]]),Ue=["creators","writers","pencillers","inkers","cover_artists","colorists","letterers","editors"];Object.freeze(Ue);const qe=["genres","characters","teams","locations","seriesGroups","stories","storyArcNumbers","tags"];Object.freeze(qe);const W=mt("metadata",{state:()=>({md:void 0}),getters:{_mappedContributors(e){var a;const t={};if(!((a=e==null?void 0:e.md)!=null&&a.contributors))return t;for(const{role:n,person:r}of e.md.contributors){const s=n.name+"s";s in t||(t[s]=[]),t[s].push(r)}return t},_sortedRoles(e){let t=[];const a=new Set(Object.keys(e._mappedContributors));for(const r of Ue)a.has(r)&&(t.push(r),a.delete(r));const n=[...a].sort();return[...t,...n]},contributors(e){return this.mapTag(e._mappedContributors,e._sortedRoles,"contributors")},identifiers(e){var a;const t=[];if(!((a=e.md)!=null&&a.identifiers))return t;for(const n of this.md.identifiers){const r=n.name.split(":"),s=r[0],i=r[1],l=N().identifierTypeTitle(s);let d="";l&&l!=="None"&&(d+=l+":"),d+=i;const m={pk:n.pk,url:n.url,name:d};t.push(m)}return t},tags(e){const t=e.mapTag(e.md,qe);return this.identifiers&&(t.Identifiers={filter:"identifiers",tags:this.identifiers}),t}},actions:{async loadMetadata({group:e,pks:t}){await ft.getMetadata({group:e,pks:t},N().metadataSettings).then(a=>{const n={...a.data};return n.loaded=!0,this.md=n,!0}).catch(a=>{console.error(a),this.clearMetadata()})},clearMetadata(){this.md=void 0},mapTag(e,t,a){const n={};for(const r of t){let s=e[r];if(!(s!=null&&s.length))continue;let i;a?i=a:r==="storyArcNumbers"?i="storyArcs":i=r;const l=ht(r);s=s.sort((d,m)=>d.name.localeCompare(m.name)),n[l]={filter:i,tags:s}}return n}}}),Na={name:"MetadataRatings",components:{MetadataText:Me},computed:{...O(W,{md:e=>e.md}),show(){var e,t,a;return((e=this.md)==null?void 0:e.communityRating)||((t=this.md)==null?void 0:t.criticRating)||((a=this.md)==null?void 0:a.ageRating)}}},La={key:0},Ia={key:1},xa={key:2};function $a(e,t,a,n,r,s){const i=_("MetadataText");return s.show?(u(),v(Ae,{key:0},{default:L(()=>[g("tbody",null,[e.md.communityRating?(u(),p("tr",La,[t[0]||(t[0]=g("td",{class:"key"},"Community Rating",-1)),g("td",null,[o(i,{value:e.md.communityRating},null,8,["value"])])])):h("",!0),e.md.criticalRating?(u(),p("tr",Ia,[t[1]||(t[1]=g("td",{class:"key"},"Critical Rating",-1)),g("td",null,[o(i,{value:e.md.criticalRating},null,8,["value"])])])):h("",!0),e.md.ageRating?(u(),p("tr",xa,[t[2]||(t[2]=g("td",{class:"key"},"Age Rating",-1)),g("td",null,[o(i,{value:e.md.ageRating},null,8,["value"])])])):h("",!0)])]),_:1})):h("",!0)}const Pa=T(Na,[["render",$a],["__scopeId","data-v-c3e9cb26"]]),Fa=new Set(["p","i","s","v"]),Da={name:"MetadataTags",props:{item:{type:Object,required:!0},filter:{type:String,default:""}},data(){return{mdiOpenInNew:Fe}},computed:{...O(N,{browserShow:e=>e.settings.show,filterValues(e){return e.settings.filters[this.filter]},topGroup:e=>e.settings.topGroup}),...O(W,{mdGroup:e=>e.md.group,mdIds:e=>e.md.ids}),groupMode(){return Fa.has(this.filter)},clickable(){return this.filter&&this.item.value&&(!this.groupMode||this.browserShow[this.filter])},classes(){return{clickable:(this.clickable||this.item.url)&&!this.highlight}},highlight(){var e;return!!(this.groupMode&&this.filter===this.mdGroup&&this.mdIds.includes(this.item.value)||(e=this.filterValues)!=null&&e.includes(this.item.value))},variant(){return this.highlight?"flat":"tonal"},color(){const e=this.$vuetify.theme.current.colors;return this.highlight?e["primary-darken-1"]:""},linkGroup(){let e;return this.groupMode?e=this.filter:e=["f","s"].includes(this.topGroup)?this.topGroup:"r",e},linkPks(){return this.groupMode||this.linkGroup!=="a"&&this.filter==="storyArcs"?this.item.value.toString():"0"},toRoute(){if(!this.clickable)return"";const e=this.linkGroup,t=this.linkPks;return{name:"browser",params:{group:e,pks:t,page:1}}},linkSettings(){let e;return this.linkPks==="0"?e={filters:{[this.filter]:[this.item.value]}}:e={topGroup:this.getTopGroup(this.linkGroup)},e}},methods:{...fe(N,["routeWithSettings","getTopGroup"]),async onClick(){this.clickable&&this.routeWithSettings(this.linkSettings,this.toRoute)}}},Ea=["href"],za={key:1};function Oa(e,t,a,n,r,s){return u(),v(Dt,{class:ie(s.classes),color:s.color,value:a.item.value,variant:s.variant,onClick:s.onClick},{default:L(()=>[a.item.url?(u(),p("a",{key:0,href:a.item.url,target:"_blank"},[ae(z(a.item.title),1),o(Oe,null,{default:L(()=>[ae(z(r.mdiOpenInNew),1)]),_:1})],8,Ea)):(u(),p("span",za,z(a.item.title),1))]),_:1},8,["class","color","value","variant","onClick"])}const Aa=T(Da,[["render",Oa],["__scopeId","data-v-90b0c4fe"]]),Ga={name:"MetadataTags",components:{MetadataChip:Aa},props:{label:{type:String,default:""},values:{type:Array,default(){return[]}},filter:{type:String,required:!1,default:void 0}},computed:{items(){return ta(this.values)}}},ja={key:0},Ua={key:0,class:"chipGroupLabel"};function qa(e,t,a,n,r,s){var l;const i=_("MetadataChip");return((l=s.items)==null?void 0:l.length)>0?(u(),p("div",ja,[a.label?(u(),p("div",Ua,z(a.label),1)):h("",!0),g("div",null,[(u(!0),p(pe,null,re(s.items,d=>(u(),v(i,{key:`${a.filter}/${d.value}`,filter:a.filter,item:d},null,8,["filter","item"]))),128))])])):h("",!0)}const He=T(Ga,[["render",qa],["__scopeId","data-v-b7cb58ab"]]),Ha={name:"MetadataTagsTable",components:{MetadataTags:He},props:{tagMap:{type:Object,required:!0}},computed:{show(){return Object.keys(this.tagMap).length>0}}},Ka={class:"key"},Wa={class:"tags"};function Ya(e,t,a,n,r,s){const i=_("MetadataTags");return s.show?(u(),v(Ae,{key:0},{default:L(()=>[g("tbody",null,[(u(!0),p(pe,null,re(Object.entries(a.tagMap),([l,{filter:d,tags:m}])=>(u(),p("tr",{key:l},[g("td",Ka,z(l),1),g("td",Wa,[o(i,{filter:d,values:m},null,8,["filter","values"])])]))),128))])]),_:1})):h("",!0)}const Za=T(Ha,[["render",Ya],["__scopeId","data-v-bbaac1cc"]]),Xa={name:"MetadataBody",components:{MetadataRatings:Pa,MetadataTagsTable:Za,MetadataText:Me},props:{group:{type:String,required:!0},book:{type:Object,required:!0}},computed:{...oe(W,["contributors","ratings","tags"]),...O(N,{twentyFourHourTime:e=>{var t;return(t=e.settings)==null?void 0:t.twentyFourHourTime},readingDirectionTitles:e=>e.choices.static.readingDirection}),...O(W,{md:e=>e.md}),readingDirectionText(){return this.md?this.readingDirectionTitles[this.md.readingDirection]:"Unknown"},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?je(this.md.size):0},sizeLabel(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.group)==="c"?"Size":"Total Size"},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"}},methods:{formatDateTime(e){return pt(e,this.twentyFourHourTime)}}},Ja={id:"metadataBody"},Qa={class:"mdSection"},es={class:"mdSection"},ts={class:"quarterRow"},as={class:"thirdRow"},ss={class:"lastSmallRow"},is={key:0,class:"halfRow mdSection"},ns={class:"mdSection"},rs={class:"inlineRow"},os={class:"inlineRow"};function ls(e,t,a,n,r,s){var m,b;const i=_("MetadataText"),l=_("MetadataTagsTable"),d=_("MetadataRatings");return u(),p("div",Ja,[g("section",Qa,[o(i,{value:e.md.summary,"max-height":100},null,8,["value"]),o(i,{value:e.md.review,label:"Review","max-height":100},null,8,["value"])]),o(l,{"tag-map":e.contributors,class:"mdSection"},null,8,["tag-map"]),g("section",es,[g("div",ts,[e.md.createdAt?(u(),v(i,{key:0,value:s.formatDateTime(e.md.createdAt),label:"Created at",class:"mtime"},null,8,["value"])):h("",!0),e.md.updatedAt?(u(),v(i,{key:1,value:s.formatDateTime(e.md.updatedAt),label:"Updated at",class:"mtime"},null,8,["value"])):h("",!0),o(i,{value:s.size,label:s.sizeLabel},null,8,["value","label"]),o(i,{value:s.fileType,label:"File Type"},null,8,["value"])]),g("div",as,[o(i,{label:"Reading Direction",value:s.readingDirectionText},null,8,["value"]),o(i,{value:e.md.original_format,label:"Original Format"},null,8,["value"]),o(i,{value:(!!e.md.monochrome).toString(),label:"Monochrome"},null,8,["value"])]),g("div",ss,[o(i,{group:"f",value:{pk:e.md.parentFolderId,name:e.md.path},label:"Path"},null,8,["value"])])]),(m=e.md)!=null&&m.country||(b=e.md)!=null&&b.language?(u(),p("section",is,[o(i,{value:e.md.country,label:"Country"},null,8,["value"]),o(i,{value:e.md.language,label:"Language"},null,8,["value"])])):h("",!0),o(d,{class:"mdSection"}),o(l,{"tag-map":e.tags,class:"mdSection"},null,8,["tag-map"]),g("section",ns,[g("section",rs,[o(i,{value:e.md.notes,label:"Notes"},null,8,["value"])]),g("section",os,[o(i,{value:e.md.tagger,label:"Tagger"},null,8,["value"]),o(i,{value:e.md.scanInfo,label:"Scan"},null,8,["value"])])])])}const us=T(Xa,[["render",ls],["__scopeId","data-v-d2a60d46"]]),Ke=new Set("rtl","btt");Object.freeze(Ke);const We=({ids:e,page:t,readingDirection:a,pageCount:n},r)=>{if(e.length===0||r&&!n)return"";const s=e[0];if(t)t=Number(t);else if(Ke.has(a)){const i=Number(n)-1;t=Math.max(i,0)}else t=0;return{name:"reader",params:{pk:s,page:t}}},Ye={p:"publisher",i:"imprint",s:"series",v:"volume",f:"folder",a:"storyArc"};Object.freeze(Ye);const ds={name:"MetadataControls",components:{DownloadButton:ma,MarkReadButton:va},props:{group:{type:String,required:!0}},computed:{...O(W,{md:e=>e.md}),...O(N,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata}}),downloadName(){const e=this.md;let t;if(!e)t="Unknown.cbz";else if(e.fileName)t=e.fileName;else{if(this.md.group==="f")return[this.firstNameFromList(e.folderList)];if(this.md.group==="a")return[this.firstNameFromList(e.storyArcList)];t=[this.firstNameFromList(e.publisherList),this.firstNameFromList(e.imprintList),this.firstNameFromList(e.seriesList),this.firstNameFromList(e.volumeList),De(this.md,3),this.md.name].filter(Boolean).join(" ")}return t},downloadItem(){var e,t,a,n;return{group:(e=this.md)==null?void 0:e.group,ids:(t=this.md)==null?void 0:t.ids,childCount:(a=this.md)==null?void 0:a.childCount,mtime:(n=this.md)==null?void 0:n.mtime,name:this.downloadName}},isReadButtonShown(){return this.group==="c"&&this.$route.name!="reader"},isReadButtonEnabled(){return!!this.readerRoute},markReadItem(){let e="";const t=Ye[this.md.group];return t?e=(this.md[t+"List"]||[]).map(({name:r})=>r).join(", "):e=this.md.name,{group:this.md.group,ids:this.md.ids,finished:this.md.finished,name:e,children:this.md.childCount||1}},readButtonIcon(){return this.isReadButtonEnabled?vt:gt},readerRoute(){var e;return(e=this.md)!=null&&e.ids?We(this.md,this.importMetadata):{}},size(){return this.$vuetify.display.smAndDown?"x-small":"default"}},methods:{firstNameFromList(e){let t="";if(!e)return t;for(const a of Object.values(e))if(a.name){t=a.name;break}return t}}},cs={class:"controlRow"};function ms(e,t,a,n,r,s){const i=_("DownloadButton"),l=_("MarkReadButton");return u(),p("section",cs,[o(i,{id:"downloadButton",button:!0,item:s.downloadItem,size:s.size},null,8,["item","size"]),o(l,{id:"markReadButton",button:!0,item:s.markReadItem,size:s.size},null,8,["item","size"]),s.isReadButtonShown?(u(),v(ve,{key:0,id:"readButton",title:"Read Comic",disabled:!s.isReadButtonEnabled,size:s.size,to:s.readerRoute},{default:L(()=>[o(Oe,null,{default:L(()=>[ae(z(s.readButtonIcon),1)]),_:1}),t[0]||(t[0]=ae(" Read "))]),_:1},8,["disabled","size","to"])):h("",!0)])}const hs=T(ds,[["render",ms],["__scopeId","data-v-d254bb05"]]),fs={name:"MetadataBookCover",components:{BookCover:la},props:{group:{type:String,required:!0}},computed:{...O(W,{md:e=>e.md})}},ps={class:"bookCoverWrapper"};function vs(e,t,a,n,r,s){const i=_("BookCover");return u(),p("div",ps,[o(i,{id:"bookCover",group:a.group,pks:e.md.ids,"child-count":e.md.childCount,finished:e.md.finished,mtime:e.md.mtime},null,8,["group","pks","child-count","finished","mtime"]),o(Vt,{class:"bookCoverProgress","model-value":e.md.progress,rounded:"","background-color":"inherit",height:"2","aria-label":"% read"},null,8,["model-value"])])}const gs=T(fs,[["render",vs],["__scopeId","data-v-3a0db03b"]]),bs={name:"MetadataHeader",components:{MetadataBookCover:gs,MetadataControls:hs,MetadataTags:He,MetadataText:Me},props:{group:{type:String,required:!0}},computed:{...O(N,{importMetadata:e=>{var t,a;return(a=(t=e.page)==null?void 0:t.adminFlags)==null?void 0:a.importMetadata},q:e=>e.settings.q}),...O(W,{md:e=>e.md}),date(){if(!this.md.year&&!this.md.month&&!this.md.day)return"";const e=new Date(this.md.year||1970,this.md.month||1,this.md.day||1),t={};return this.md.year&&(t.year="numeric"),this.md.month&&(t.month=this.$vuetify.display.smAndDown?"short":"long"),this.md.day&&(t.day="numeric"),e.toLocaleDateString("default",t)},readerRoute(){var e;return(e=this.md)!=null&&e.ids?We(this.md,this.importMetadata):{}},formattedIssueNumber(){if(!this.md)return"Unknown";if(!((this.md.issueNumber===null||this.md.issueNumber===void 0)&&!this.md.issueSuffix))return"#"+De(this.md)},pages(){let e="";if(!this.md)return e;if(this.md.page){const a=ye.format(this.md.page);e+=this.$vuetify.display.smAndDown?`${a} / `:`Read ${a} of `}const t=ye.format(this.md.pageCount);return e+=`${t} page`,this.md.pageCount!==1&&(e+="s"),this.$vuetify.display.smAndUp&&this.md.progress>0&&(e+=` (${Math.round(this.md.progress)}%)`),e},size(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.size)>0?je(this.md.size):0},fileType(){var e;return((e=this==null?void 0:this.md)==null?void 0:e.fileType)||"Unknown"},seriesVolumeCount(){const e=this.md.seriesVolumeCount;return e?`of ${e}`:""},volumeIssueCount(){const e=this.md.volumeIssueCount;return e?`/ ${e}`:""}}},ks={id:"metadataHeader"},ys={key:1,id:"seriesHeader"},_s={id:"seriesRow",class:"inlineRow"},Ss={key:2,id:"titleRow"},ws={key:4,id:"publisherRow",class:"inlineRow"},Cs={key:7,id:"pageDateRow",class:"inlineRow"};function Ts(e,t,a,n,r,s){var b,w,R,I,A,$,j,G;const i=_("MetadataText"),l=_("MetadataBookCover"),d=_("MetadataTags"),m=_("MetadataControls");return u(),p(pe,null,[g("header",ks,[e.q?(u(),v(i,{key:0,id:"search",value:e.q,label:"Search Query",highlight:!0},null,8,["value"])):h("",!0),o(l,{id:"metadataBookCover",group:a.group},null,8,["group"]),((b=e.md.seriesList)==null?void 0:b.length)===1?(u(),p("section",ys,[g("div",_s,[(u(),v(i,{id:"series",key:e.md.seriesList[0].ids,value:e.md.seriesList[0],group:"s",highlight:e.md.group==="s"},null,8,["value","highlight"])),((w=e.md.volumeList)==null?void 0:w.length)===1?(u(),v(i,{id:"volume",key:e.md.volumeList[0].ids,value:e.md.volumeList[0],group:"v",highlight:e.md.group==="v"},null,8,["value","highlight"])):h("",!0),o(i,{value:s.seriesVolumeCount,class:"subdued"},null,8,["value"]),o(i,{id:"issue",value:s.formattedIssueNumber,group:"c",highlight:e.md.group==="c"},null,8,["value","highlight"]),o(i,{value:s.volumeIssueCount,class:"subdued"},null,8,["value"])])])):h("",!0),e.md.name?(u(),p("span",Ss,z(e.md.name),1)):h("",!0),((R=e.md.seriesList)==null?void 0:R.length)>1?(u(),v(d,{key:3,id:"seriesTags",class:"groupTags",label:"Series",values:e.md.seriesList,filter:"s"},null,8,["values"])):h("",!0),g("div",null,[((I=e.md.volumeList)==null?void 0:I.length)>1?(u(),v(d,{key:0,id:"volumeTags",class:"groupTags",label:"Volumes",values:e.md.volumeList,filter:"v"},null,8,["values"])):h("",!0)]),((A=e.md.publisherList)==null?void 0:A.length)===1?(u(),p("div",ws,[(u(),v(i,{id:"publisher",key:e.md.publisherList[0].ids,group:"p",highlight:e.md.group==="p",value:e.md.publisherList[0]},null,8,["highlight","value"])),(($=e.md.imprintList)==null?void 0:$.length)===1?(u(),v(i,{id:"imprint",key:e.md.imprintList[0].ids,group:"i",highlight:e.md.group==="i",value:e.md.imprintList[0]},null,8,["highlight","value"])):h("",!0)])):h("",!0),((j=e.md.publisherList)==null?void 0:j.length)>1?(u(),v(d,{key:5,id:"publisherTags",class:"groupTags",label:"Publishers",values:e.md.publisherList,filter:"p"},null,8,["values"])):h("",!0),((G=e.md.imprintList)==null?void 0:G.length)>1?(u(),v(d,{key:6,id:"imprintTags",class:"groupTags",label:"Imprints",values:e.md.imprintList,filter:"i"},null,8,["values"])):h("",!0),s.pages||e.md.year||e.md.month||e.md.day?(u(),p("div",Cs,[o(i,{value:s.pages},null,8,["value"]),o(i,{value:s.date,class:"datePicker"},null,8,["value"])])):h("",!0)]),o(m,{id:"controls",group:a.group},null,8,["group"])],64)}const Ms=T(bs,[["render",Ts],["__scopeId","data-v-d0899f1f"]]),Bs=1160,Rs=.05,Vs=250,Ns={name:"MetadataButton",components:{CloseButton:Gt,MetadataBody:us,MetadataHeader:Ms,PlaceholderLoading:Yt},props:{book:{type:Object,required:!0},children:{type:Number,default:1},group:{type:String,required:!0},toolbar:{type:Boolean,default:!1}},data(){return{mdiTagOutline:bt,dialog:!1,progress:0}},computed:{...O(W,{md:e=>e.md}),showContainer(){var e;return((e=this.md)==null?void 0:e.loaded)||!1},buttonVariant(){return this.toolbar?"plain":"text"}},watch:{dialog(e){e?this.dialogOpened():this.clearMetadata()}},methods:{...fe(W,["clearMetadata","loadMetadata"]),dialogOpened(){const e=this.book.ids||[this.book.pk],t={group:this.group,pks:e};this.loadMetadata(t),this.startProgress()},startProgress(){this.startTime=Date.now(),this.estimatedMS=Math.max(Rs,this.children/Bs)*1e3,this.updateProgress()},updateProgress(){const e=Date.now()-this.startTime;this.progress=e/this.estimatedMS*100,!(this.progress>=100||this.md)&&setTimeout(()=>{this.updateProgress()},Vs)}}},Ls={key:1,id:"placeholderContainer"};function Is(e,t,a,n,r,s){const i=_("CloseButton"),l=_("MetadataHeader"),d=_("MetadataBody"),m=_("PlaceholderLoading");return u(),v(At,{modelValue:r.dialog,"onUpdate:modelValue":t[3]||(t[3]=b=>r.dialog=b),fullscreen:"",transition:"dialog-bottom-transition"},{activator:L(({props:b})=>[o(ve,Z({"aria-label":"tags",class:"tagButton cardControlButton",variant:s.buttonVariant,icon:r.mdiTagOutline,title:"Tags"},b,{onClick:t[0]||(t[0]=yt(()=>{},["prevent"]))}),null,16,["variant","icon"])]),default:L(()=>[o(i,{class:"closeButton",title:"Close Metadata (esc)",onClick:t[1]||(t[1]=b=>r.dialog=!1)}),s.showContainer?(u(),p("div",{key:0,id:"metadataContainer",onKeyup:t[2]||(t[2]=kt(b=>r.dialog=!1,["esc"]))},[o(l,{group:a.group},null,8,["group"]),o(d,{book:a.book,group:a.group},null,8,["book","group"])],32)):(u(),p("div",Ls,[t[4]||(t[4]=g("div",{id:"placeholderTitle"},"Tags Loading",-1)),o(m,{"model-value":r.progress,indeterminate:r.progress>=100,class:"placeholder"},null,8,["model-value","indeterminate"])]))]),_:1},8,["modelValue"])}const li=T(Ns,[["render",Is],["__scopeId","data-v-60b1fb43"]]),xs={name:"PaginationNavButton",props:{narrow:{type:Boolean,default:!0}},computed:{classes(){return{narrowButton:this.narrow}}}};function $s(e,t,a,n,r,s){return u(),v(ve,{variant:"plain",density:"compact",class:ie(["paginationNavButton",s.classes]),size:"medium"},we({_:2},[re(e.$slots,(i,l)=>({name:l,fn:L(d=>[Ce(e.$slots,l,Z({props:i},d),void 0,!0)])}))]),1032,["class"])}const ui=T(xs,[["render",$s],["__scopeId","data-v-cf061c30"]]),Be=Symbol.for("vuetify:v-slider");function Ps(e,t,a){const n=a==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return n?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function Fs(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Ds=ne({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Lt(),...Nt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Es=e=>{const t=k(()=>parseFloat(e.min)),a=k(()=>parseFloat(e.max)),n=k(()=>Number(e.step)>0?parseFloat(e.step):0),r=k(()=>Math.max(Ne(n.value),Ne(t.value)));function s(i){if(i=parseFloat(i),n.value<=0)return i;const l=Ee(i,t.value,a.value),d=t.value%n.value,m=Math.round((l-d)/n.value)*n.value+d;return parseFloat(Math.min(m,a.value).toFixed(r.value))}return{min:t,max:a,step:n,decimals:r,roundValue:s}},zs=e=>{let{props:t,steps:a,onSliderStart:n,onSliderMove:r,onSliderEnd:s,getActiveThumb:i}=e;const{isRtl:l}=Te(),d=E(t,"reverse"),m=k(()=>t.direction==="vertical"),b=k(()=>m.value!==d.value),{min:w,max:R,step:I,decimals:A,roundValue:$}=a,j=k(()=>parseInt(t.thumbSize,10)),G=k(()=>parseInt(t.tickSize,10)),H=k(()=>parseInt(t.trackSize,10)),U=k(()=>(R.value-w.value)/I.value),X=E(t,"disabled"),q=k(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=k(()=>t.error||t.disabled?void 0:t.trackColor??t.color),P=k(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),M=Le(!1),B=Le(0),F=_e(),D=_e();function y(c){var Re;const f=(Re=F.value)==null?void 0:Re.$el;if(!f)return;const J=t.direction==="vertical",Ze=J?"top":"left",Xe=J?"height":"width",Je=J?"clientY":"clientX",{[Ze]:Qe,[Xe]:et}=f.getBoundingClientRect(),tt=Fs(c,Je);let be=Math.min(Math.max((tt-Qe-B.value)/et,0),1)||0;return(J?b.value:b.value!==l.value)&&(be=1-be),$(w.value+be*(R.value-w.value))}const K=c=>{const f=y(c);f!=null&&s({value:f}),M.value=!1,B.value=0},Y=c=>{const f=y(c);D.value=i(c),D.value&&(M.value=!0,D.value.contains(c.target)?B.value=Ps(c,D.value,t.direction):(B.value=0,f!=null&&r({value:f})),f!=null&&n({value:f}),St(()=>{var J;return(J=D.value)==null?void 0:J.focus()}))},x={passive:!0,capture:!0};function ee(c){const f=y(c);f!=null&&r({value:f})}function le(c){c.stopPropagation(),c.preventDefault(),K(c),window.removeEventListener("mousemove",ee,x),window.removeEventListener("mouseup",le)}function ue(c){var f;K(c),window.removeEventListener("touchmove",ee,x),(f=c.target)==null||f.removeEventListener("touchend",ue)}function ge(c){var f;Y(c),window.addEventListener("touchmove",ee,x),(f=c.target)==null||f.addEventListener("touchend",ue,{passive:!1})}function V(c){c.button===0&&(c.preventDefault(),Y(c),window.addEventListener("mousemove",ee,x),window.addEventListener("mouseup",le,{passive:!1}))}const C=c=>{const f=(c-w.value)/(R.value-w.value)*100;return Ee(isNaN(f)?0:f,0,100)},te=E(t,"showTicks"),se=k(()=>te.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(c=>({value:c,position:C(c),label:c.toString()})):Object.keys(t.ticks).map(c=>({value:parseFloat(c),position:C(parseFloat(c)),label:t.ticks[c]})):U.value!==1/0?_t(U.value+1).map(c=>{const f=w.value+c*I.value;return{value:f,position:C(f)}}):[]:[]),de=k(()=>se.value.some(c=>{let{label:f}=c;return!!f})),ce={activeThumbRef:D,color:E(t,"color"),decimals:A,disabled:X,direction:E(t,"direction"),elevation:E(t,"elevation"),hasLabels:de,isReversed:d,indexFromEnd:b,min:w,max:R,mousePressed:M,numTicks:U,onSliderMousedown:V,onSliderTouchstart:ge,parsedTicks:se,parseMouseMove:y,position:C,readonly:E(t,"readonly"),rounded:E(t,"rounded"),roundValue:$,showTicks:te,startOffset:B,step:I,thumbSize:j,thumbColor:q,thumbLabel:E(t,"thumbLabel"),ticks:E(t,"ticks"),tickSize:G,trackColor:S,trackContainerRef:F,trackFillColor:P,trackSize:H,vertical:m};return wt(Be,ce),ce},Os=ne({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Se()},"VSliderThumb"),As=me()({name:"VSliderThumb",directives:{Ripple:It},props:Os(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=ze(Be),{isRtl:s,rtlClasses:i}=Te();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:l,step:d,disabled:m,thumbSize:b,thumbLabel:w,direction:R,isReversed:I,vertical:A,readonly:$,elevation:j,mousePressed:G,decimals:H,indexFromEnd:U}=r,X=k(()=>m.value?void 0:j.value),{elevationClasses:q}=xt(X),{textColorClasses:S,textColorStyles:P}=$t(l),{pageup:M,pagedown:B,end:F,home:D,left:y,right:K,down:Y,up:x}=Ct,ee=[M,B,F,D,y,K,Y,x],le=k(()=>d.value?[1,2,3]:[1,5,10]);function ue(V,C){if(!ee.includes(V.key))return;V.preventDefault();const te=d.value||.1,se=(e.max-e.min)/te;if([y,K,Y,x].includes(V.key)){const ce=(A.value?[s.value?y:K,I.value?Y:x]:U.value!==s.value?[y,x]:[K,x]).includes(V.key)?1:-1,c=V.shiftKey?2:V.ctrlKey?1:0;C=C+ce*te*le.value[c]}else if(V.key===D)C=e.min;else if(V.key===F)C=e.max;else{const de=V.key===B?1:-1;C=C-de*te*(se>100?se/10:10)}return Math.max(e.min,Math.min(e.max,C))}function ge(V){const C=ue(V,e.modelValue);C!=null&&n("update:modelValue",C)}return he(()=>{const V=Q(U.value?100-e.position:e.position,"%");return o("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&G.value},e.class,i.value],style:[{"--v-slider-thumb-position":V,"--v-slider-thumb-size":Q(b.value)},e.style],role:"slider",tabindex:m.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!$.value,"aria-orientation":R.value,onKeydown:$.value?void 0:ge},[o("div",{class:["v-slider-thumb__surface",S.value,q.value],style:{...P.value}},null),Ie(o("div",{class:["v-slider-thumb__ripple",S.value],style:P.value},null),[[Tt("ripple"),e.ripple,null,{circle:!0,center:!0}]]),o(Ut,{origin:"bottom center"},{default:()=>{var C;return[Ie(o("div",{class:"v-slider-thumb__label-container"},[o("div",{class:["v-slider-thumb__label"]},[o("div",null,[((C=a["thumb-label"])==null?void 0:C.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(d.value?H.value:1)])])]),[[Mt,w.value&&e.focused||w.value==="always"]])]}})])}),{}}}),Gs=ne({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Se()},"VSliderTrack"),js=me()({name:"VSliderTrack",props:Gs(),emits:{},setup(e,t){let{slots:a}=t;const n=ze(Be);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:i,showTicks:l,tickSize:d,trackColor:m,trackFillColor:b,trackSize:w,vertical:R,min:I,max:A,indexFromEnd:$}=n,{roundedClasses:j}=Pt(i),{backgroundColorClasses:G,backgroundColorStyles:H}=xe(b),{backgroundColorClasses:U,backgroundColorStyles:X}=xe(m),q=k(()=>`inset-${R.value?"block":"inline"}-${$.value?"end":"start"}`),S=k(()=>R.value?"height":"width"),P=k(()=>({[q.value]:"0%",[S.value]:"100%"})),M=k(()=>e.stop-e.start),B=k(()=>({[q.value]:Q(e.start,"%"),[S.value]:Q(M.value,"%")})),F=k(()=>l.value?(R.value?s.value.slice().reverse():s.value).map((y,K)=>{var x;const Y=y.value!==I.value&&y.value!==A.value?Q(y.position,"%"):void 0;return o("div",{key:y.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":y.position>=e.start&&y.position<=e.stop,"v-slider-track__tick--first":y.value===I.value,"v-slider-track__tick--last":y.value===A.value}],style:{[q.value]:Y}},[(y.label||a["tick-label"])&&o("div",{class:"v-slider-track__tick-label"},[((x=a["tick-label"])==null?void 0:x.call(a,{tick:y,index:K}))??y.label])])}):[]);return he(()=>o("div",{class:["v-slider-track",j.value,e.class],style:[{"--v-slider-track-size":Q(w.value),"--v-slider-tick-size":Q(d.value)},e.style]},[o("div",{class:["v-slider-track__background",U.value,{"v-slider-track__background--opacity":!!r.value||!b.value}],style:{...P.value,...X.value}},null),o("div",{class:["v-slider-track__fill",G.value],style:{...B.value,...H.value}},null),l.value&&o("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[F.value])])),{}}}),Us=ne({...Kt(),...Ds(),...Ht(),modelValue:{type:[Number,String],default:0}},"VSlider"),qs=me()({name:"VSlider",props:Us(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:n}=t;const r=_e(),{rtlClasses:s}=Te(),i=Es(e),l=Bt(e,"modelValue",void 0,S=>i.roundValue(S??i.min.value)),{min:d,max:m,mousePressed:b,roundValue:w,onSliderMousedown:R,onSliderTouchstart:I,trackContainerRef:A,position:$,hasLabels:j,readonly:G}=zs({props:e,steps:i,onSliderStart:()=>{n("start",l.value)},onSliderEnd:S=>{let{value:P}=S;const M=w(P);l.value=M,n("end",M)},onSliderMove:S=>{let{value:P}=S;return l.value=w(P)},getActiveThumb:()=>{var S;return(S=r.value)==null?void 0:S.$el}}),{isFocused:H,focus:U,blur:X}=qt(e),q=k(()=>$(l.value));return he(()=>{const S=$e.filterProps(e),P=!!(e.label||a.label||a.prepend);return o($e,Z({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||j.value,"v-slider--focused":H.value,"v-slider--pressed":b.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},S,{focused:H.value}),{...a,prepend:P?M=>{var B,F;return o(pe,null,[((B=a.label)==null?void 0:B.call(a,M))??(e.label?o(Wt,{id:M.id.value,class:"v-slider__label",text:e.label},null):void 0),(F=a.prepend)==null?void 0:F.call(a,M)])}:void 0,default:M=>{let{id:B,messagesId:F}=M;return o("div",{class:"v-slider__container",onMousedown:G.value?void 0:R,onTouchstartPassive:G.value?void 0:I},[o("input",{id:B.value,name:e.name||B.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:l.value},null),o(js,{ref:A,start:0,stop:q.value},{"tick-label":a["tick-label"]}),o(As,{ref:r,"aria-describedby":F.value,focused:H.value,min:d.value,max:m.value,modelValue:l.value,"onUpdate:modelValue":D=>l.value=D,position:q.value,elevation:e.elevation,onFocus:U,onBlur:X,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),Hs={name:"PaginationSlider",props:{min:{type:Number,default:0}}};function Ks(e,t,a,n,r,s){return u(),v(qs,Z({"thumb-size":"36",class:"paginationSlider",density:"compact","hide-details":"auto",min:a.min,rounded:!0,"show-ticks":"always",step:1,"thumb-label":"always"},e.$attrs),{"tick-label":L(({index:i})=>[ae(z(i+a.min),1)]),_:1},16,["min"])}const di=T(Hs,[["render",Ks],["__scopeId","data-v-01b67afd"]]),Ws={name:"PaginationToolbar"};function Ys(e,t,a,n,r,s){return u(),v(Zt,{class:"paginationToolbar codexToolbar",density:"compact",transform:"center bottom"},we({_:2},[re(e.$slots,(i,l)=>({name:l,fn:L(d=>[Ce(e.$slots,l,Z({props:i},d),void 0,!0)])}))]),1024)}const ci=T(Ws,[["render",Ys],["__scopeId","data-v-cfa8cce0"]]);export{la as B,ma as D,va as M,ke as N,ui as P,ri as T,ni as V,oi as a,li as b,ci as c,di as d,We as g,je as p,ta as t};
