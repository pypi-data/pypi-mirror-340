import{_ as h,A as S,C as k,B as p,k as n,s as C,a as v,F as g,y as V,z as b,l as _,q as a,g as $,p as B,r as R,u as P,J as q}from"./main-JUy8mnXG.js";import{h as D}from"./VDialog-CoOMSEbM.js";import{r as E,s as A}from"./VSelectionControl-DvYb3Pi4.js";import{f as N}from"./forwardRefs-BxFNqo8E.js";const T={name:"SubmitFooter",components:{ConfirmFooter:D},props:{verb:{type:String,required:!0},table:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["cancel","submit"],computed:{...k(p,{errors:e=>e.form.errors,success:e=>e.form.success}),confirmText(){const e=this.label||this.table;return`${this.verb} ${e}`}},beforeMount(){this.clearErrors()},methods:{...S(p,["clearErrors"])}},w={key:0,class:"errors"},z={key:1,class:"success"},I={key:2};function J(e,s,m,d,l,i){const u=_("ConfirmFooter");return a(),n("footer",null,[C("div",null,[e.errors&&e.errors.length>0?(a(),n("small",w,[(a(!0),n(g,null,V(e.errors,(c,t)=>(a(),n("div",{key:t},b(c),1))),128))])):e.success?(a(),n("small",z,b(e.success),1)):(a(),n("small",I,"Â "))]),v(u,{"confirm-text":i.confirmText,disabled:m.disabled,onConfirm:s[0]||(s[0]=c=>e.$emit("submit")),onCancel:s[1]||(s[1]=c=>e.$emit("cancel"))},null,8,["confirm-text","disabled"])])}const H=h(T,[["render",J],["__scopeId","data-v-d960409d"]]),L=B({...q(),...A()},"VForm"),K=$()({name:"VForm",props:L(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:m,emit:d}=s;const l=E(e),i=R();function u(t){t.preventDefault(),l.reset()}function c(t){const o=t,r=l.validate();o.then=r.then.bind(r),o.catch=r.catch.bind(r),o.finally=r.finally.bind(r),d("submit",o),o.defaultPrevented||r.then(y=>{var f;let{valid:F}=y;F&&((f=i.value)==null||f.submit())}),o.preventDefault()}return P(()=>{var t;return v("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:u,onSubmit:c},[(t=m.default)==null?void 0:t.call(m,l)])}),N(l,i)}});export{H as S,K as V};
