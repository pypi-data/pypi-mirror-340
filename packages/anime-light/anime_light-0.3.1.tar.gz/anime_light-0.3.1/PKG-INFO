Metadata-Version: 2.3
Name: anime-light
Version: 0.3.1
Summary: Conversor de anime a resoluciones ligeras (360p/480p/720p/1080p) con FFmpeg
License: MIT
Keywords: anime,video,converter,ffmpeg
Author: Gabriel Baute
Author-email: gabrielbaute@gmail.com
Requires-Python: >=3.8,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Dist: click (>=8.1.0,<9.0.0)
Requires-Dist: rich (>=13.0.0,<14.0.0)
Project-URL: Bug Tracker, https://github.com/gabrielbaute/anime-light/issues
Project-URL: Homepage, https://github.com/gabrielbaute/anime-light
Project-URL: Repository, https://github.com/gabrielbaute/anime-light
Description-Content-Type: text/markdown

# ğŸ¬ Anime Light

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue?logo=python&logoColor=white)](https://www.python.org/)
[![FFmpeg](https://img.shields.io/badge/FFmpeg-Required-orange?logo=ffmpeg&logoColor=white)](https://ffmpeg.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![PyPI Version](https://img.shields.io/pypi/v/anime-light?color=blue&logo=pypi&logoColor=white)](https://pypi.org/project/anime-light/)
[![Code Style: Black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

**Conversor optimizado de anime a resoluciones ligeras (360p/480p/720p/1080p) usando FFmpeg.**  

Bueno, esta es una soluciÃ³n para las personas que, como yo, tienen realmente poco espacio de almacenamiento pero, aÃºn asÃ­, no quieren deshacerse de todos los archivos que tienen. Lo principal para mi era poder hacer streaming de los anime que descargo para Jellyfin, sobre todo a mi telÃ©fono... razÃ³n por la cual, no siempre requiero archivos en 1080p, y 480p-720p suele ser un estpandar de calidad aceptable para mi... pero encontrar archivos en 480 o en 720 ligeros (algo que en el anime, que tiene muchos frames fijos o con pocos cambios) es dificil Ãºltimamente, asÃ­ que quise implementar esta soluciÃ³n y me ha funcionado muy bien. Lo siguiente fue implementarla en forma de CLI!

La librerÃ­a implementa una cli para convertir archivos de anime (esto es importante, **estÃ¡ optimizado para este estilo**, ya que el anime se caracteriza por tener muchas imÃ¡genes estÃ¡ticas entre frame y frame y manejar una tasa de unos 24 cuadros por segundo). Se puede usar tanto como librerÃ­a como mediante la CLI. De momento se puede convertir a 360p, 480p, 720p y 1080p (es decir, SD y HD).

Sin mÃ¡s, espero que les parezca Ãºtil y, si se les ocurre alguna cosa que agregar, estarÃ© encantado de aceptar colaboraciones y/o sugerencias!


## ğŸš€ InstalaciÃ³n

### Requisitos previos
- **FFmpeg** instalado y en tu `PATH`.  
  ```bash
  # En Linux/macOS (usando Homebrew):
  brew install ffmpeg

  # En Windows (usando Chocolatey):
  choco install ffmpeg
  ```

### Instalar el paquete
```bash
pip install anime-light
```

## ğŸ’» Uso bÃ¡sico

### Comandos principales
| Comando | DescripciÃ³n |
|---------|-------------|
| `anime-light "video.mp4"` | Convierte a 480p (calidad predeterminada) |
| `anime-light "video.mkv" --resolution 720p` | Convierte a 720p |
| `anime-light "carpeta/" --crf 25` | Procesa todos los videos en una carpeta |

### Opciones avanzadas
```bash
# Convertir a 720p con mÃ¡xima compresiÃ³n (archivos pequeÃ±os)
anime-light "episodio.mp4" --resolution 720p --crf 26 --preset veryslow

# Especificar directorio de salida personalizado
anime-light "video.mp4" --output-dir "D:/anime_convertido"

# Audio de baja calidad (para ahorrar espacio)
anime-light "video.mp4" --audio-bitrate 64k
```

### Sobre uso de GPU

He estado intentando agregar soporte para el manejo de GPU, pero la verdad no sÃ© si esa parte estÃ¡ funcionando bien. En todo caso, podrÃ¡n probar con opciones como:

1. **Para Intel QSV**:
   ```bash
   anime-light "video.mp4" --use-gpu qsv
   ```

2. **Para NVIDIA CUDA**:
   ```bash
   anime-light "video.mp4" --use-gpu cuda
   ```

#### **MÃ©todos segÃºn GPU que estÃ¡n incluÃ­dos en el cÃ³digo**
| GPU               | MÃ©todo Ã³ptimo | Argumento       |
|-------------------|---------------|-----------------|
| Intel HD 4xxx+    | QSV           | `--use-gpu qsv` |
| NVIDIA            | CUDA          | `--use-gpu cuda`|
| AMD (Linux)       | VAAPI         | `--use-gpu vaapi`|
| AMD (Windows)     | D3D11VA       | `--use-gpu d3d11va`|

Sinceramente, estoy desarrollando esto en un equipo algo viejo y limitado (un i3 de 4ta), asÃ­ que el primer caso, el de una GPU Intel integrada es l oque disponÃ­a, pero si les soy sincero, no he logrado determinar si estoy usando bien los recursos (o si, siquiera, los estoy empleando)... si alguien con mÃ¡s experiencia y conocimientos al respecto estÃ¡ dispuesto a chequear o mejorar esa parte, bienvenida sea la PR!

---

## ğŸ“Š Tabla de parÃ¡metros recomendados

| ResoluciÃ³n | CRF Recomendado | Preset   | Uso tÃ­pico                     |
|------------|-----------------|----------|--------------------------------|
| 360p       | 26-28           | `fast`   | MÃ³viles o streaming limitado   |
| 480p       | 23-25           | `slow`   | Equilibrio calidad-tamaÃ±o      |
| 720p       | 20-22           | `slow`   | HD en pantallas pequeÃ±as       |
| 1080p      | 18-20           | `slower` | Full HD en monitores grandes   |

> â„¹ï¸ **Nota**: Valores CRF mÃ¡s bajos = mejor calidad pero mayor tamaÃ±o.

## ğŸ› ï¸ Ejemplos prÃ¡cticos

### 1. Convertir un solo archivo
```bash
anime-light "Onepiece_Ep1000.mp4" --resolution 480p --crf 24
```
**Estructura de salida**:  
```
./Onepiece_Ep1000[480p].mp4
```

### 2. Procesar una carpeta completa
```bash
anime-light "~/anime/Shingeki_no_Kyojin/" --resolution 720p --output-dir "~/converted"
```
**Estructura de salida**:  
```
~/converted/
â””â”€â”€ 720p/
    â”œâ”€â”€ Shingeki_no_Kyojin_Ep1[720p].mp4
    â”œâ”€â”€ Shingeki_no_Kyojin_Ep2[720p].mp4
    â””â”€â”€ ...
```

## ğŸ“Œ Notas importantes
- âœ… **Formatos soportados**: `.mp4`, `.mkv`, `.avi`, `.mov`.
- âš ï¸ **Espacios en rutas**: Usa comillas: `"ruta con espacios/video.mp4"`.
- ğŸ”„ **Sobrescritura**: Los archivos existentes se sobrescriben automÃ¡ticamente en el output, pero no se toca los archivos originales. Se genera un directorio "temp" para evitar posibles conflictos y no contaminar el directorio de salida.

## ğŸ› Reportar problemas
Â¿Encontraste un error? Â¡Abre un [issue](https://github.com/gabrielbaute/anime-light/issues) en GitHub!

## ğŸ“œ Licencia
MIT Â© [Gabriel Baute](https://github.com/gabrielbaute)
