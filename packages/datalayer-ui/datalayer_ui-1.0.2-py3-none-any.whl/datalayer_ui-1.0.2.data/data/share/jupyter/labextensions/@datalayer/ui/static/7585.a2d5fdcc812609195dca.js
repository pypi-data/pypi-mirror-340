"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[7585],{59798:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.supportedKernelWebSocketProtocols=t.isInputReplyMsg=t.isInputRequestMsg=t.isDebugReplyMsg=t.isDebugRequestMsg=t.isExecuteReplyMsg=t.isInfoRequestMsg=t.isCommMsgMsg=t.isCommCloseMsg=t.isCommOpenMsg=t.isDebugEventMsg=t.isClearOutputMsg=t.isStatusMsg=t.isErrorMsg=t.isExecuteResultMsg=t.isExecuteInputMsg=t.isUpdateDisplayDataMsg=t.isDisplayDataMsg=t.isStreamMsg=t.createMessage=void 0;const n=r(67262);var s;t.createMessage=function(e){var t,r,s,i,u;return{buffers:null!==(t=e.buffers)&&void 0!==t?t:[],channel:e.channel,content:e.content,header:{date:(new Date).toISOString(),msg_id:null!==(r=e.msgId)&&void 0!==r?r:n.UUID.uuid4(),msg_type:e.msgType,session:e.session,username:null!==(s=e.username)&&void 0!==s?s:"",version:"5.2"},metadata:null!==(i=e.metadata)&&void 0!==i?i:{},parent_header:null!==(u=e.parentHeader)&&void 0!==u?u:{}}},t.isStreamMsg=function(e){return"stream"===e.header.msg_type},t.isDisplayDataMsg=function(e){return"display_data"===e.header.msg_type},t.isUpdateDisplayDataMsg=function(e){return"update_display_data"===e.header.msg_type},t.isExecuteInputMsg=function(e){return"execute_input"===e.header.msg_type},t.isExecuteResultMsg=function(e){return"execute_result"===e.header.msg_type},t.isErrorMsg=function(e){return"error"===e.header.msg_type},t.isStatusMsg=function(e){return"status"===e.header.msg_type},t.isClearOutputMsg=function(e){return"clear_output"===e.header.msg_type},t.isDebugEventMsg=function(e){return"debug_event"===e.header.msg_type},t.isCommOpenMsg=function(e){return"comm_open"===e.header.msg_type},t.isCommCloseMsg=function(e){return"comm_close"===e.header.msg_type},t.isCommMsgMsg=function(e){return"comm_msg"===e.header.msg_type},t.isInfoRequestMsg=function(e){return"kernel_info_request"===e.header.msg_type},t.isExecuteReplyMsg=function(e){return"execute_reply"===e.header.msg_type},t.isDebugRequestMsg=function(e){return"debug_request"===e.header.msg_type},t.isDebugReplyMsg=function(e){return"debug_reply"===e.header.msg_type},t.isInputRequestMsg=function(e){return"input_request"===e.header.msg_type},t.isInputReplyMsg=function(e){return"input_reply"===e.header.msg_type},function(e){e.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"}(s||(t.supportedKernelWebSocketProtocols=s={}))},93962:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;const u=i(r(59798));var o;t.serialize=function(e,t=""){return t===u.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?o.serializeV1KernelWebsocketJupyterOrg(e):o.serializeDefault(e)},t.deserialize=function(e,t=""){return t===u.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?o.deserializeV1KernelWebsocketJupyterOrg(e):o.deserializeDefault(e)},function(e){e.deserializeV1KernelWebsocketJupyterOrg=function(e){let t;const r=new DataView(e),n=Number(r.getBigUint64(0,!0));let s=[];for(let e=0;e<n;e++)s.push(Number(r.getBigUint64(8*(e+1),!0)));const i=new TextDecoder("utf8"),u=i.decode(e.slice(s[0],s[1])),o=JSON.parse(i.decode(e.slice(s[1],s[2]))),a=JSON.parse(i.decode(e.slice(s[2],s[3]))),l=JSON.parse(i.decode(e.slice(s[3],s[4]))),c=JSON.parse(i.decode(e.slice(s[4],s[5])));let h=[];for(let t=5;t<s.length-1;t++)h.push(new DataView(e.slice(s[t],s[t+1])));return t={channel:u,header:o,parent_header:a,metadata:l,content:c,buffers:h},t},e.serializeV1KernelWebsocketJupyterOrg=function(e){const t=JSON.stringify(e.header),r=null==e.parent_header?"{}":JSON.stringify(e.parent_header),n=JSON.stringify(e.metadata),s=JSON.stringify(e.content),i=void 0!==e.buffers?e.buffers:[],u=5+i.length+1;let o=[];o.push(8*(1+u)),o.push(e.channel.length+o[o.length-1]);const a=new TextEncoder,l=a.encode(e.channel),c=a.encode(t),h=a.encode(r),f=a.encode(n),g=a.encode(s),d=new Uint8Array(l.length+c.length+h.length+f.length+g.length);d.set(l),d.set(c,l.length),d.set(h,l.length+c.length),d.set(f,l.length+c.length+h.length),d.set(g,l.length+c.length+h.length+f.length);for(let e of[c.length,h.length,f.length,g.length])o.push(e+o[o.length-1]);let p=0;for(let e of i){let t=e.byteLength;o.push(t+o[o.length-1]),p+=t}const _=new Uint8Array(8*(1+u)+d.byteLength+p),y=new ArrayBuffer(8),m=new DataView(y);m.setBigUint64(0,BigInt(u),!0),_.set(new Uint8Array(y),0);for(let e=0;e<o.length;e++)m.setBigUint64(0,BigInt(o[e]),!0),_.set(new Uint8Array(y),8*(e+1));_.set(d,o[0]);for(let e=0;e<i.length;e++){const t=i[e];_.set(new Uint8Array(ArrayBuffer.isView(t)?t.buffer:t),o[5+e])}return _.buffer},e.deserializeDefault=function(e){let t;return t="string"==typeof e?JSON.parse(e):function(e){const t=new DataView(e),r=t.getUint32(0),n=[];if(r<2)throw new Error("Invalid incoming Kernel Message");for(let e=1;e<=r;e++)n.push(t.getUint32(4*e));const s=new Uint8Array(e.slice(n[0],n[1])),i=JSON.parse(new TextDecoder("utf8").decode(s));i.buffers=[];for(let t=1;t<r;t++){const r=n[t],s=n[t+1]||e.byteLength;i.buffers.push(new DataView(e.slice(r,s)))}return i}(e),t},e.serializeDefault=function(e){var t;let r;return r=(null===(t=e.buffers)||void 0===t?void 0:t.length)?function(e){const t=[],r=[],n=new TextEncoder;let s=[];void 0!==e.buffers&&(s=e.buffers,delete e.buffers);const i=n.encode(JSON.stringify(e));r.push(i.buffer);for(let e=0;e<s.length;e++){const t=s[e];r.push(ArrayBuffer.isView(t)?t.buffer:t)}const u=r.length;t.push(4*(u+1));for(let e=0;e+1<r.length;e++)t.push(t[t.length-1]+r[e].byteLength);const o=new Uint8Array(t[t.length-1]+r[r.length-1].byteLength),a=new DataView(o.buffer);a.setUint32(0,u);for(let e=0;e<t.length;e++)a.setUint32(4*(e+1),t[e]);for(let e=0;e<r.length;e++)o.set(new Uint8Array(r[e]),t[e]);return o.buffer}(e):JSON.stringify(e),r}}(o||(o={}))},95244:(e,t,r)=>{r.d(t,{eu:()=>u}),new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const n=new Error("request for lock canceled");var s=function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function u(e){try{a(n.next(e))}catch(e){i(e)}}function o(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,o)}a((n=n.apply(e,t||[])).next())}))};class i{constructor(e,t=n){if(this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}acquire(){const e=this.isLocked(),t=new Promise(((e,t)=>this._queue.push({resolve:e,reject:t})));return e||this._dispatch(),t}runExclusive(e){return s(this,void 0,void 0,(function*(){const[t,r]=yield this.acquire();try{return yield e(t)}finally{r()}}))}waitForUnlock(){return s(this,void 0,void 0,(function*(){return this.isLocked()?new Promise((e=>this._waiters.push({resolve:e}))):Promise.resolve()}))}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const e=this._currentReleaser;this._currentReleaser=void 0,e()}}cancel(){this._queue.forEach((e=>e.reject(this._cancelError))),this._queue=[]}_dispatch(){const e=this._queue.shift();if(!e)return;let t=!1;this._currentReleaser=()=>{t||(t=!0,this._value++,this._resolveWaiters(),this._dispatch())},e.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach((e=>e.resolve())),this._waiters=[]}}class u{constructor(e){this._semaphore=new i(1,e)}acquire(){return e=this,t=void 0,n=function*(){const[,e]=yield this._semaphore.acquire();return e},new((r=void 0)||(r=Promise))((function(s,i){function u(e){try{a(n.next(e))}catch(e){i(e)}}function o(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,o)}a((n=n.apply(e,t||[])).next())}));var e,t,r,n}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}}}]);