"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9112],{79112:(e,t,o)=>{o.r(t),o.d(t,{default:()=>J,lineColItem:()=>q});var n=o(68122),r=o(4279),i=o(62939),a=o(85181),l=o(54071),s=o(20492),c=o(88037),d=o(9387),m=o(67704);class u extends d.Component{constructor(e){super(e),this._handleChange=e=>{this.setState({value:e.currentTarget.value})},this._handleSubmit=e=>{e.preventDefault();const t=parseInt(this._textInput.value,10);return!isNaN(t)&&isFinite(t)&&1<=t&&t<=this.props.maxLine&&this.props.handleSubmit(t),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.translator=e.translator||a.wK,this._trans=this.translator.load("jupyterlab"),this.state={value:"",hasFocus:!1,textInputId:m.e.createDomID()+"-line-number-input"}}componentDidMount(){this._textInput.focus()}render(){return d.createElement("div",{className:"jp-lineFormSearch"},d.createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},d.createElement("div",{className:(0,l.Ly)("jp-lineFormWrapper","lm-lineForm-wrapper",this.state.hasFocus?"jp-lineFormWrapperFocusWithin":void 0)},d.createElement("input",{type:"text",id:this.state.textInputId,className:"jp-lineFormInput",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),d.createElement("div",{className:"jp-baseLineForm jp-lineFormButtonContainer"},d.createElement(s.ox.react,{className:"jp-baseLineForm jp-lineFormButtonIcon",elementPosition:"center"}),d.createElement("input",{type:"submit",className:"jp-baseLineForm jp-lineFormButton",value:""}))),d.createElement("label",{className:"jp-lineFormCaption",htmlFor:this.state.textInputId},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function p(e){const t=(e.translator||a.wK).load("jupyterlab");return d.createElement(i.pC,{onClick:e.handleClick,source:t.__("Ln %1, Col %2",e.line,e.column),title:t.__("Go to line numberâ€¦")})}class h extends c.QX{constructor(e){super(new h.Model),this._popup=null,this.addClass("jp-mod-highlighted"),this.translator=e||a.wK}render(){return null===this.model?null:d.createElement(p,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();const e=c._Q.create(d.createElement(u,{handleSubmit:e=>this._handleSubmit(e),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=(0,i.yp)({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0}),this._popup.dispose(),this.model.editor.focus()}}!function(e){class t extends c.AF{constructor(){super(...arguments),this._onSelectionChanged=()=>{const e=this._getAllState(),t=this.editor.getCursorPosition();this._line=t.line+1,this._column=t.column+1,this._triggerChange(e,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(e){var t;const o=this._editor;(null===(t=null==o?void 0:o.model)||void 0===t?void 0:t.selections)&&o.model.selections.changed.disconnect(this._onSelectionChanged);const n=this._getAllState();if(this._editor=e,this._editor){this._editor.model.selections.changed.connect(this._onSelectionChanged);const e=this._editor.getCursorPosition();this._column=e.column+1,this._line=e.line+1}else this._column=1,this._line=1;this._triggerChange(n,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(e,t){e[0]===t[0]&&e[1]===t[1]||this.stateChanged.emit(void 0)}}e.Model=t}(h||(h={}));var g,v=o(29299),b=o(68076);!function(e){e.deleteLine="codemirror:delete-line",e.toggleBlockComment="codemirror:toggle-block-comment",e.toggleComment="codemirror:toggle-comment",e.selectNextOccurrence="codemirror:select-next-occurrence",e.toggleTabFocusMode="codemirror:toggle-tab-focus-mode"}(g||(g={}));const y=".cm-content",_={id:"@jupyterlab/codemirror-extension:commands",description:"Registers commands acting on selected/active CodeMirror editor.",autoStart:!0,optional:[a.sQ],activate:(e,t)=>{const o=(t=null!=t?t:a.wK).load("jupyterlab"),n=e=>e.classList.contains(y),r=()=>{var t,o;const r=null!==(t=e.contextMenuHitTest(n))&&void 0!==t?t:null===(o=document.activeElement)||void 0===o?void 0:o.closest(y);if(r&&"cmView"in r)return r.cmView.view},i=()=>!!r();e.commands.addCommand(g.deleteLine,{label:o.__("Delete the current line"),execute:()=>{const e=r();e&&(0,v.SA)(e)},isEnabled:i}),e.commands.addCommand(g.toggleBlockComment,{label:o.__("Toggle Block Comment"),caption:o.__("Toggles block comments in languages which support it (e.g. C, JavaScript)"),execute:()=>{const e=r();e&&(0,v.NH)(e)},isEnabled:i}),e.commands.addCommand(g.toggleComment,{label:o.__("Toggle Comment"),execute:()=>{const e=r();e&&(0,v.qh)(e)},isEnabled:i}),e.commands.addCommand(g.toggleTabFocusMode,{label:o.__("Toggle Tab Focus Mode"),caption:o.__("Toggles behavior of Tab key between inserting indentation and moving to next focusable element"),execute:()=>{const e=r();e&&(0,v.ND)(e)},isEnabled:i}),e.commands.addCommand(g.selectNextOccurrence,{label:o.__("Select Next Occurrence"),execute:()=>{const e=r();e&&(0,b.dg)(e)},isEnabled:i})}};var j=o(91959),f=o(89895),F=o(69584),E=o(61110),S=o(98238),C=o(36294),x=o(82174);const N={submitButtonOptions:{norender:!0}},w=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:a.wK).load("jupyterlab");let n;if("icons"===e.buttonStyle){const t={tag:"span",elementSize:"xlarge",elementPosition:"center"};n="up"===e.direction?d.createElement(s.YT.react,{...t}):d.createElement(s.jH.react,{...t})}else n="up"===e.direction?o.__("Move up"):o.__("Move down");const r="up"===e.direction?e.item.index-1:e.item.index+1;return d.createElement("button",{className:"jp-mod-styled jp-mod-reject jp-ArrayOperationsButton",onClick:e.item.onReorderClick(e.item.index,r),disabled:"up"===e.direction?!e.item.hasMoveUp:!e.item.hasMoveDown},n)},T=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:a.wK).load("jupyterlab");let n;return n="icons"===e.buttonStyle?d.createElement(s.ut.react,{tag:"span",elementSize:"xlarge",elementPosition:"center"}):o.__("Remove"),d.createElement("button",{className:"jp-mod-styled jp-mod-warn jp-ArrayOperationsButton",onClick:e.item.onDropIndexClick(e.item.index)},n)},k=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:a.wK).load("jupyterlab");let n;return n="icons"===e.buttonStyle?d.createElement(s.Xv.react,{tag:"span",elementSize:"xlarge",elementPosition:"center"}):o.__("Add"),d.createElement("button",{className:"jp-mod-styled jp-mod-reject jp-ArrayOperationsButton",onClick:e.onAddClick},n)};function G(e){const{component:t,name:o,buttonStyle:n,compact:r,showModifiedFromDefault:i,translator:l}=e,s=null!=r&&r,c=null!=n?n:s?"icons":"text",d=e=>t({...e,buttonStyle:c,compact:s,showModifiedFromDefault:null==i||i,translator:null!=l?l:a.wK});return o&&(d.displayName=o),d}function I(e,t){return{TitleField:(0,x.$F)("TitleFieldTemplate",e,t),DescriptionField:(0,x.$F)("DescriptionFieldTemplate",e,t)}}function M(e){const{buttonStyle:t,compact:o,showModifiedFromDefault:n,translator:r,formContext:i,...l}=e,s={...l.uiSchema||S.JSONExt.emptyObject};s["ui:options"]={...N,...s["ui:options"]},l.uiSchema=s;const{FieldTemplate:c,ArrayFieldTemplate:m,ObjectFieldTemplate:u}=e.templates||S.JSONExt.emptyObject,p={buttonStyle:t,compact:o,showModifiedFromDefault:n,translator:r},h=d.useMemo((()=>{return null!=c?c:(e=p,G({...e,name:"JupyterLabFieldTemplate",component:e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:a.wK).load("jupyterlab");let n,r=!1;const{formData:i,schema:l,label:s,displayLabel:c,id:m,formContext:u,errors:p,rawErrors:h,children:g,onKeyChange:v,onDropPropertyClick:b}=e,{defaultFormData:y}=u,_=m.split("_");_.shift();const j=_.join("."),f=""===j,F=j===(e.uiSchema||S.JSONExt.emptyObject)["ui:field"];e.showModifiedFromDefault&&(n=_.reduce(((e,t)=>null==e?void 0:e[t]),y),r=!f&&void 0!==i&&void 0!==n&&!l.properties&&"array"!==l.type&&!S.JSONExt.deepEqual(i,n));const E=!f&&"object"!=l.type&&"jp-SettingsEditor-@jupyterlab/shortcuts-extension:shortcuts_shortcuts"!=m,C=l.hasOwnProperty(x.Rr),N=!("object"===l.type||"array"===l.type);return d.createElement("div",{className:"form-group "+(c||"boolean"===l.type?"small-field":"")},!F&&((null==h?void 0:h.length)?d.createElement("div",{className:"jp-modifiedIndicator jp-errorIndicator"}):r&&d.createElement("div",{className:"jp-modifiedIndicator"})),d.createElement("div",{className:"jp-FormGroup-content "+(e.compact?"jp-FormGroup-contentCompact":"jp-FormGroup-contentNormal")},N&&c&&!f&&s&&!C?e.compact?d.createElement("div",{className:"jp-FormGroup-compactTitle"},d.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},s),N&&l.description&&E&&d.createElement("div",{className:"jp-FormGroup-description"},l.description)):d.createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},s):d.createElement(d.Fragment,null),C&&d.createElement("input",{className:"jp-FormGroup-contentItem jp-mod-styled",type:"text",onBlur:e=>v(e.target.value),defaultValue:s}),d.createElement("div",{className:f?"jp-root":"object"===l.type?"jp-objectFieldWrapper":"array"===l.type?"jp-arrayFieldWrapper":"jp-inputFieldWrapper jp-FormGroup-contentItem"},g),C&&d.createElement("button",{className:"jp-FormGroup-contentItem jp-mod-styled jp-mod-warn jp-FormGroup-removeButton",onClick:b(s)},o.__("Remove")),!e.compact&&l.description&&E&&d.createElement("div",{className:"jp-FormGroup-description"},l.description),r&&void 0!==n&&"object"!==l.type&&d.createElement("div",{className:"jp-FormGroup-default"},o.__("Default: %1",null!==n?n.toLocaleString():"null")),d.createElement("div",{className:"validationErrors"},p)))}}));var e}),[c,t,o,n,r]),g=d.useMemo((()=>{return null!=m?m:(e=p,G({...e,name:"JupyterLabArrayTemplate",component:e=>{var t;const{schema:o,registry:n,uiSchema:r,required:i}=e,a={schema:o,registry:n,uiSchema:r,required:i},{TitleField:l,DescriptionField:s}=I(n,r);return d.createElement("div",{className:e.className},e.compact?d.createElement("div",{className:"jp-FormGroup-compactTitle"},d.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem",id:`${e.idSchema.$id}__title`},e.title||""),d.createElement("div",{className:"jp-FormGroup-description",id:`${e.idSchema.$id}-description`},e.schema.description||"")):d.createElement(d.Fragment,null,e.title&&d.createElement(l,{...a,title:e.title,id:`${e.idSchema.$id}-title`}),d.createElement(s,{...a,id:`${e.idSchema.$id}-description`,description:null!==(t=e.schema.description)&&void 0!==t?t:""})),e.items.map((t=>d.createElement("div",{key:t.key,className:t.className},t.children,d.createElement("div",{className:"jp-ArrayOperations"},d.createElement(w,{buttonStyle:e.buttonStyle,translator:e.translator,item:t,direction:"up"}),d.createElement(w,{buttonStyle:e.buttonStyle,translator:e.translator,item:t,direction:"down"}),d.createElement(T,{buttonStyle:e.buttonStyle,translator:e.translator,item:t}))))),e.canAdd&&d.createElement(k,{onAddClick:e.onAddClick,buttonStyle:e.buttonStyle,translator:e.translator}))}}));var e}),[m,t,o,n,r]),v=d.useMemo((()=>{return null!=u?u:(e=p,G({...e,name:"JupyterLabObjectTemplate",component:e=>{var t;const{schema:o,registry:n,uiSchema:r,required:i}=e,a={schema:o,registry:n,uiSchema:r,required:i},{TitleField:l,DescriptionField:s}=I(n,r);return d.createElement("fieldset",{id:e.idSchema.$id},e.compact?d.createElement("div",{className:"jp-FormGroup-compactTitle"},d.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem",id:`${e.idSchema.$id}__title`},e.title||""),d.createElement("div",{className:"jp-FormGroup-description",id:`${e.idSchema.$id}__description`},e.schema.description||"")):d.createElement(d.Fragment,null,(e.title||(e.uiSchema||S.JSONExt.emptyObject)["ui:title"])&&d.createElement(l,{...a,id:`${e.idSchema.$id}__title`,title:e.title||`${(e.uiSchema||S.JSONExt.emptyObject)["ui:title"]}`||""}),d.createElement(s,{...a,id:`${e.idSchema.$id}__description`,description:null!==(t=e.schema.description)&&void 0!==t?t:""})),e.properties.map((e=>e.content)),(0,x.Xl)(e.schema,e.uiSchema,e.formData)&&d.createElement(k,{onAddClick:e.onAddClick(e.schema),buttonStyle:e.buttonStyle,translator:e.translator}))}}));var e}),[u,t,o,n,r]),b={FieldTemplate:h,ArrayFieldTemplate:g,ObjectFieldTemplate:v};return d.createElement(C.Ay,{templates:b,formContext:i,...l})}var A=o(72839);const D="@jupyterlab/codemirror-extension:plugin",L={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:f.SW,optional:[a.sQ],activate:(e,t)=>{const n=new f.T9;for(const e of f.T9.getDefaultLanguages(t))n.addLanguage(e);return n.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>{const[e,t,r]=await Promise.all([Promise.all([o.e(6636),o.e(9946),o.e(2899),o.e(5949)]).then(o.bind(o,15949)),o.e(9388).then(o.bind(o,9388)),o.e(3e3).then(o.bind(o,43e3))]),i=e.markdown({base:e.markdownLanguage,codeLanguages:e=>n.findBest(e),extensions:[(0,f.vE)(j.Tg.define(r.stexMath).parser)]});return new j.Yy(i.language,[i.support,(0,f.pythonBuiltin)(t.pythonLanguage)])}}),n}},O={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:f.hc,optional:[a.sQ],activate:(e,t)=>{const o=new f.k8;for(const e of f.k8.getDefaultThemes(t))o.addTheme(e);return o}},$={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:f.B,requires:[f.hc],optional:[a.sQ,F.X,E.g],activate:(e,t,o,n,r)=>{const i=new f.AG;for(const e of f.AG.getDefaultExtensions({themes:t,translator:o}))i.addExtension(e);if(n){const t=e=>{var t;i.baseConfiguration=null!==(t=e.get("defaultConfig").composite)&&void 0!==t?t:{}};Promise.all([n.load(D),e.restored]).then((([e])=>{t(e),e.changed.connect(t)})),null==r||r.addRenderer(`${D}.defaultConfig`,{fieldRenderer:e=>{const t=d.useMemo((()=>i.settingsSchema),[]),n={};for(const[e,o]of Object.entries(i.defaultConfiguration))void 0!==t[e]&&(n[e]=o);return d.createElement("div",{className:"jp-FormGroup-contentNormal"},d.createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&d.createElement("div",{className:"jp-FormGroup-description"},e.schema.description),d.createElement(M,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:t,additionalProperties:!1},validator:A.A,formData:{...n,...e.formData},formContext:{defaultFormData:n},liveValidate:!0,onChange:t=>{var o;const r={};for(const[e,i]of Object.entries(null!==(o=t.formData)&&void 0!==o?o:{})){const t=n[e];void 0!==t&&S.JSONExt.deepEqual(i,t)||(r[e]=i)}e.onChange(r)},tagName:"div",translator:null!=o?o:a.wK}))}})}return i}},B={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[f.B],activate:(e,t)=>{t.addExtension({name:"shared-model-binding",factory:e=>{var t;const o=e.model.sharedModel;return f.AG.createImmutableExtension((0,f.rX)({ytext:o.ysource,undoManager:null!==(t=o.undoManager)&&void 0!==t?t:void 0}))}})}},P={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:r.Fe,requires:[f.SW,f.B],optional:[a.sQ],activate:(e,t,o,n)=>({factoryService:new f.Ez({extensions:o,languages:t,translator:null!=n?n:a.wK}),mimeTypeService:new f.mN(t)})},q={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[a.sQ],optional:[n.V,i.$O],provides:r.UT,activate:(e,t,o,n)=>{const r=new h(t),i=new Set;function a(e,t){Promise.all([...i].map((e=>e(t.newValue)))).then((e=>{var t;r.model.editor=null!==(t=e.filter((e=>null!==e))[0])&&void 0!==t?t:null})).catch((e=>{console.error("Get editors",e)}))}return n&&n.registerStatusItem(q.id,{priority:1,item:r,align:"right",rank:2,isActive:()=>!!r.model.editor}),o&&o.currentChanged.connect(a),{addEditorProvider:t=>{i.add(t),e.shell.currentWidget&&a(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{a(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},J=[_,L,O,B,$,P,q]},61110:(e,t,o)=>{o.d(t,{J:()=>i,g:()=>r});var n=o(98238);const r=new n.Token("@jupyterlab/ui-components:IFormRendererRegistry","A service for settings form renderer registration."),i=new n.Token("@jupyterlab/ui-components:ILabIconManager","A service to register and request icons.")}}]);