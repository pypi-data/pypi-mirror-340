"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[5643],{95643:(e,t,n)=>{n.r(t),n.d(t,{DocumentPublic:()=>b,default:()=>C});var o=n(9387),i=n(20568),a=n(79026),r=n(97096),l=n(98754),d=n(8586),s=n(14722),c=n(99180),u=n(76818),m=n(38621),f=n(53850),h=n(23530),p=n(97734),g=n(50906),y=n(18683);const b=()=>{const e=(0,g.mt)(),t=e.iam().user,n=e.layout().space,{documentId:b}=(0,i.g)(),{refreshDocument:C,getDocument:x,cloneDocument:w}=(0,f.E)(),v=(0,h.Z)(),j=(0,a.S)(),{enqueueToast:A}=(0,p.d)(),[J,k]=(0,o.useState)();(0,o.useEffect)((()=>(e.layout().showBackdrop(),C(b).then((t=>{if(e.layout().hideBackdrop(),t.success){const e=x(b);e||v("/"),k(e)}})).finally((()=>{e.layout().hideBackdrop()})),()=>{k(void 0),e.layout().setItem(void 0)})),[b]);const z=(0,o.useCallback)((async n=>{j({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then((n=>{n&&(e.layout().showBackdrop(),w(b).then((n=>{e.layout().hideBackdrop(),n.success&&(A(n.message,{variant:"success"}),e.layout().triggerItemsRefresh(),v(`/${t?.handle}/library/documents`))})).finally((()=>{e.layout().hideBackdrop()})))}))}),[j,J]);return J?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.z,{children:(0,y.jsxs)(l.A,{display:"flex",children:[(0,y.jsx)(l.A,{flex:1,children:(0,y.jsx)(d.A,{sx:{fontSize:3},children:"Public document"})}),(0,y.jsx)(l.A,{children:(0,y.jsxs)(s.A,{children:[J&&t?.handle===J.owner.handle&&(0,y.jsx)(c.Q,{variant:"default",size:"small",onClick:()=>v(`/${J.organization?.handle??J.owner?.handle}/${J.space?.handle}/documents/${J.id}`),children:"Edit"}),t&&n&&(0,y.jsx)(c.Q,{variant:"default",size:"small",leadingVisual:m.Nc$,onClick:z,children:"Clone"})]})})]})}),(0,y.jsx)(l.A,{children:(0,y.jsx)(u.A,{children:J.description})}),(0,y.jsx)(l.A,{children:J.model&&(0,y.jsx)(y.Fragment,{})})]}):(0,y.jsx)(y.Fragment,{})},C=b},14722:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(22462),i=n(2020),a=n(78602);const r=o.Ay.div.withConfig({displayName:"ButtonGroup",componentId:"sc-1gxhls1-0"})(["display:inline-flex;vertical-align:middle;isolation:isolate;&& > *:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative;border-radius:0;:first-child{border-top-left-radius:",";border-bottom-left-radius:",";}:last-child{border-top-right-radius:",";border-bottom-right-radius:",";}:focus,:active,:hover{z-index:1;}}[data-loading-wrapper]{:first-child{button,a{border-top-left-radius:",";border-bottom-left-radius:",";}}:last-child{button,a{border-top-right-radius:",";border-bottom-right-radius:",";}}}[data-loading-wrapper] > *{margin-inline-end:-1px;position:relative;border-radius:0;:focus,:active,:hover{z-index:1;}}",";"],(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),(0,i.Jt)("radii.2"),a.A)},79026:(e,t,n)=>{n.d(t,{K:()=>w,S:()=>j});var o=n(9387),i=n(72447),a=n(22462),r=n(98754),l=n(26573),d=n(19560),s=n(2020),c=n(59528),u=n(27907),m=n(84261);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f.apply(null,arguments)}const h=a.Ay.div.withConfig({displayName:"ConfirmationDialog__StyledConfirmationHeader",componentId:"sc-11fz0jh-0"})(["padding:",";display:flex;flex-direction:row;"],(0,s.Jt)("space.2")),p=(0,a.Ay)(r.A).attrs({as:"h1"}).withConfig({displayName:"ConfirmationDialog__StyledTitle",componentId:"sc-11fz0jh-1"})(["font-size:",";font-weight:",";padding:6px ",";flex-grow:1;margin:0;"],(0,s.Jt)("fontSizes.3"),(0,s.Jt)("fontWeights.bold"),(0,s.Jt)("space.2")),g=({title:e,onClose:t,dialogLabelId:n})=>{const i=(0,o.useCallback)((()=>{t("close-button")}),[t]);return o.createElement(h,null,o.createElement(p,{id:n},e),o.createElement(c.l.CloseButton,{onClose:i}))};g.displayName="ConfirmationHeader";const y=(0,a.Ay)(r.A).withConfig({displayName:"ConfirmationDialog__StyledConfirmationBody",componentId:"sc-11fz0jh-2"})(["font-size:",";padding:0 "," "," ",";color:",";flex-grow:1;"],(0,s.Jt)("fontSizes.1"),(0,s.Jt)("space.3"),(0,s.Jt)("space.3"),(0,s.Jt)("space.3"),(0,s.Jt)("colors.fg.muted")),b=({children:e})=>o.createElement(y,null,e);b.displayName="ConfirmationBody";const C=(0,a.Ay)(r.A).withConfig({displayName:"ConfirmationDialog__StyledConfirmationFooter",componentId:"sc-11fz0jh-3"})(["display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",";align-items:end;justify-content:end;padding:"," "," ",";"],(0,s.Jt)("space.2"),(0,s.Jt)("space.1"),(0,s.Jt)("space.3"),(0,s.Jt)("space.3")),x=({footerButtons:e})=>{const{containerRef:t}=(0,u.G)({bindKeys:d.z0.ArrowHorizontal|d.z0.Tab,focusInStrategy:"closest"});return o.createElement(C,{ref:t},o.createElement(c.l.Buttons,{buttons:null!=e?e:[]}))};x.displayName="ConfirmationFooter";const w=e=>{const{onClose:t,title:n,cancelButtonContent:i="Cancel",confirmButtonContent:a="OK",confirmButtonType:r="normal",children:l}=e,d="danger"===r,s=[{content:i,onClick:(0,o.useCallback)((()=>{t("cancel")}),[t]),autoFocus:d},{content:a,buttonType:r,onClick:(0,o.useCallback)((()=>{t("confirm")}),[t]),autoFocus:!d}];return o.createElement(c.l,{onClose:t,title:n,footerButtons:s,role:"alertdialog",width:"medium",renderHeader:g,renderBody:b,renderFooter:x},l)};w.displayName="ConfirmationDialog";let v=null;function j(){const{theme:e,colorMode:t,dayScheme:n,nightScheme:a}=(0,l.DP)();return(0,o.useCallback)((r=>async function(e,t){const{content:n,...a}=t;return new Promise((t=>{v||=document.createElement("div"),v.isConnected||document.body.append(v);const r=(0,i.H)(v);r.render(o.createElement(l.NP,e,o.createElement(m.A,null,o.createElement(w,f({},a,{onClose:e=>{r.unmount(),t("confirm"===e)}}),n))))}))}({theme:e,colorMode:t,dayScheme:n,nightScheme:a},r)),[e,t,n,a])}}}]);