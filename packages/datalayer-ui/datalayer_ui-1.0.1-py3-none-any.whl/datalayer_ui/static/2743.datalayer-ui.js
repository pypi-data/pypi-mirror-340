"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[2743],{24534:(e,n,t)=>{t.d(n,{K:()=>a});var a,s=t(63711),r=t(72879),i=t(98238);!function(e){function n(e,n){var a,i;const o=n(e);return o.id=e.id,o.title.label||(o.title.label=null!==(a=e.label)&&void 0!==a?a:s.Text.titleCase(o.id.trim())),e.icon&&(o.title.icon=r.Tl.resolve({icon:e.icon})),void 0!==e.mnemonic&&(o.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter((e=>!e.disabled)).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)})).map((e=>{t(e,o,n)})),o}function t(e,t,a){const{submenu:s,...r}=e;t.addItem({...r,submenu:s?n(s,a):null})}function a(e,n,s){var r;e.disabled?n.dispose():null===(r=e.items)||void 0===r||r.forEach((e=>{var r,o;const d=null==n?void 0:n.items.find(((n,t)=>{var a,s,r;return n.type===e.type&&n.command===(null!==(a=e.command)&&void 0!==a?a:"")&&(null===(s=n.submenu)||void 0===s?void 0:s.id)===(null===(r=e.submenu)||void 0===r?void 0:r.id)}));if(d&&"separator"!==e.type)if(e.disabled)n.removeItem(d);else switch(null!==(r=e.type)&&void 0!==r?r:"command"){case"command":e.command&&(i.JSONExt.deepEqual(d.args,null!==(o=e.args)&&void 0!==o?o:{})||t(e,n,s));break;case"submenu":e.submenu&&a(e.submenu,d.submenu,s)}else t(e,n,s)}))}e.createMenus=function(e,t){return e.filter((e=>!e.disabled)).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)})).map((e=>n(e,t)))},e.addContextItem=function(e,t,a){const{submenu:s,...r}=e;t.addItem({...r,submenu:s?n(s,a):null})},e.updateMenus=function(e,t,s){const r=[];return t.forEach((t=>{const i=e.find((e=>e.id===t.id));i?a(t,i,s):t.disabled||r.push(n(t,s))})),e.push(...r),r}}(a||(a={}))},19152:(e,n,t)=>{t.d(n,{A:()=>a});class a{constructor(){this._commands=new Array}add(e){if(this._commands.map((e=>e.id)).includes(e.id))throw Error(`Command ${e.id} is already defined.`);this._commands.push({isEnabled:()=>!0,rank:a.DEFAULT_RANK,...e})}getActiveCommandId(e){var n;return(null!==(n=this._commands.filter((n=>n.isEnabled(e))).sort(((e,n)=>e.rank-n.rank||(e.id<n.id?-1:1)))[0])&&void 0!==n?n:{id:null}).id}}a.DEFAULT_RANK=500},49984:()=>{},53819:(e,n,t)=>{t.d(n,{PP:()=>r,_:()=>i,_U:()=>s});var a=t(98238);const s=new a.Token("@jupyterlab/filebrowser:IFileBrowserFactory","A factory object that creates file browsers.\n  Use this if you want to create your own file browser (e.g., for a custom storage backend),\n  or to interact with other file browsers that have been created by extensions."),r=new a.Token("@jupyterlab/filebrowser:IDefaultFileBrowser","A service for the default file browser."),i=new a.Token("@jupyterlab/filebrowser:IFileBrowserCommands","A token to ensure file browser commands are loaded.")},92743:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>U,default:()=>F});var a={};t.r(a);var s,r=t(19823),i=t(68122),o=t(59179),d=t(2335),l=t(24534),u=t(63711),m=t(7053),c=t(53119),h=t(68704),p=t(38921),_=t(14809),b=t(19152);class f extends h.z{constructor(e){super(e),this.undoers={redo:new b.A,undo:new b.A},this.clearers={clearAll:new b.A,clearCurrent:new b.A},this.goToLiners=new b.A}}class w extends h.z{constructor(e){super(e),this.quitEntry=!1,this.closeAndCleaners=new b.A,this.consoleCreators=new b.A}get newMenu(){var e,n;return this._newMenu||(this._newMenu=null!==(n=null===(e=(0,p.I6)(this.items,(e=>{var n;return"jp-mainmenu-file-new"===(null===(n=e.submenu)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.submenu)&&void 0!==n?n:new h.z({commands:this.commands})),this._newMenu}dispose(){var e;null===(e=this._newMenu)||void 0===e||e.dispose(),super.dispose()}}class v extends h.z{constructor(e){super(e),this.getKernel=new b.A}}class g extends h.z{constructor(e){super(e),this.kernelUsers={changeKernel:new b.A,clearWidget:new b.A,interruptKernel:new b.A,reconnectToKernel:new b.A,restartKernel:new b.A,shutdownKernel:new b.A}}}class k extends h.z{constructor(e){super(e),this.codeRunners={restart:new b.A,run:new b.A,runAll:new b.A}}}class M extends h.z{constructor(e){super(e)}}class y extends h.z{constructor(e){super(e)}}class C extends h.z{constructor(e){super(e),this.editorViewers={toggleLineNumbers:new b.A,toggleMatchBrackets:new b.A,toggleWordWrap:new b.A}}}class A extends _.Rj{constructor(e){super({forceItemsPosition:{forceX:!1,forceY:!0}}),this._items=[],this._commands=e}get editMenu(){return this._editMenu||(this._editMenu=new f({commands:this._commands,rank:2,renderer:c.e.defaultRenderer})),this._editMenu}get fileMenu(){return this._fileMenu||(this._fileMenu=new w({commands:this._commands,rank:1,renderer:c.e.defaultRenderer})),this._fileMenu}get helpMenu(){return this._helpMenu||(this._helpMenu=new v({commands:this._commands,rank:1e3,renderer:c.e.defaultRenderer})),this._helpMenu}get kernelMenu(){return this._kernelMenu||(this._kernelMenu=new g({commands:this._commands,rank:5,renderer:c.e.defaultRenderer})),this._kernelMenu}get runMenu(){return this._runMenu||(this._runMenu=new k({commands:this._commands,rank:4,renderer:c.e.defaultRenderer})),this._runMenu}get settingsMenu(){return this._settingsMenu||(this._settingsMenu=new M({commands:this._commands,rank:999,renderer:c.e.defaultRenderer})),this._settingsMenu}get viewMenu(){return this._viewMenu||(this._viewMenu=new C({commands:this._commands,rank:3,renderer:c.e.defaultRenderer})),this._viewMenu}get tabsMenu(){return this._tabsMenu||(this._tabsMenu=new y({commands:this._commands,rank:500,renderer:c.e.defaultRenderer})),this._tabsMenu}addMenu(e,n=!0,t={}){if(p.Rw.firstIndexOf(this.menus,e)>-1)return;c.e.overrideDefaultRenderer(e);const a={menu:e,rank:"rank"in t?t.rank:"rank"in e?e.rank:h.a.DEFAULT_RANK},r=p.Rw.upperBound(this._items,a,s.itemCmp);switch(e.disposed.connect(this._onMenuDisposed,this),p.Rw.insert(this._items,r,a),this.insertMenu(r,e),e.id){case"jp-mainmenu-file":!this._fileMenu&&e instanceof w&&(this._fileMenu=e);break;case"jp-mainmenu-edit":!this._editMenu&&e instanceof f&&(this._editMenu=e);break;case"jp-mainmenu-view":!this._viewMenu&&e instanceof C&&(this._viewMenu=e);break;case"jp-mainmenu-run":!this._runMenu&&e instanceof k&&(this._runMenu=e);break;case"jp-mainmenu-kernel":!this._kernelMenu&&e instanceof g&&(this._kernelMenu=e);break;case"jp-mainmenu-tabs":!this._tabsMenu&&e instanceof y&&(this._tabsMenu=e);break;case"jp-mainmenu-settings":!this._settingsMenu&&e instanceof M&&(this._settingsMenu=e);break;case"jp-mainmenu-help":!this._helpMenu&&e instanceof v&&(this._helpMenu=e)}}dispose(){var e,n,t,a,s,r,i,o;null===(e=this._editMenu)||void 0===e||e.dispose(),null===(n=this._fileMenu)||void 0===n||n.dispose(),null===(t=this._helpMenu)||void 0===t||t.dispose(),null===(a=this._kernelMenu)||void 0===a||a.dispose(),null===(s=this._runMenu)||void 0===s||s.dispose(),null===(r=this._settingsMenu)||void 0===r||r.dispose(),null===(i=this._viewMenu)||void 0===i||i.dispose(),null===(o=this._tabsMenu)||void 0===o||o.dispose(),super.dispose()}static generateMenu(e,n,t){let a;const{id:s,label:r,rank:i}=n;switch(s){case"jp-mainmenu-file":a=new w({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-edit":a=new f({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-view":a=new C({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-run":a=new k({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-kernel":a=new g({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-tabs":a=new y({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-settings":a=new M({commands:e,rank:i,renderer:c.e.defaultRenderer});break;case"jp-mainmenu-help":a=new v({commands:e,rank:i,renderer:c.e.defaultRenderer});break;default:a=new h.z({commands:e,rank:i,renderer:c.e.defaultRenderer})}return r&&(a.title.label=t._p("menu",r)),a}_onMenuDisposed(e){this.removeMenu(e);const n=p.Rw.findFirstIndex(this._items,(n=>n.menu===e));-1!==n&&p.Rw.removeAt(this._items,n)}}!function(e){e.itemCmp=function(e,n){return e.rank-n.rank}}(s||(s={}));var R,S=t(97789),x=t(69584),I=t(15334),K=t(85181),E=t(20492),D=t(98238),T=t(49984),j=t(53819);!function(e){e.openRecent="recentmenu:open-recent",e.reopenLast="recentmenu:reopen-last",e.clearRecents="docmanager:clear-recents"}(R||(R={}));class O extends _.W1{constructor(e){super(e),this._manager=e.manager,this._showDirectories=e.showDirectories,this.updateItems(),this._manager.changed.connect(this.updateItems,this)}async _validateRecentlyOpened(){Promise.all(this._manager.recentlyOpened.map((e=>this._manager.validate(e))))}onBeforeAttach(e){const n=new D.PromiseDelegate;setTimeout((()=>{n.reject("Recents validation timed out.")}),550),Promise.race([n.promise,this._validateRecentlyOpened()]).then((()=>{this.update()})).catch((()=>{})),super.onBeforeAttach(e)}updateItems(){this.clearItems(),this.addItem({command:R.reopenLast}),this.addItem({type:"separator"});let e=!0,n=!1;this._manager.recentlyOpened.sort(((e,n)=>e.contentType===n.contentType?0:"directory"!==e.contentType?1:-1)).forEach((t=>{if("directory"===t.contentType){if(!this._showDirectories)return;n=!0}else e&&n&&(e=!1,this.addItem({type:"separator"}));this.addItem({command:R.openRecent,args:{recent:t}})})),this.addItem({type:"separator"}),this.addItem({command:R.clearRecents})}}const B={id:"@jupyterlab/mainmenu-extension:recents",description:"Adds sub-menu for opening recent documents to the File section of the main menu.",autoStart:!0,requires:[T.IRecentsManager,m.I],optional:[j._,K.sQ],activate:(e,n,t,a,s)=>{const{commands:r}=e,i=(null!=s?s:K.wK).load("jupyterlab"),o=null!==a,l=async e=>{const t=await n.validate(e);return t||await(0,d.f1)(i.__("Could Not Open Recent"),i.__("%1 is no longer valid and will be removed from the list",e.path)),t};r.addCommand(R.openRecent,{execute:async e=>{const n=e.recent,t=""===n.path?"/":n.path;await l(n)&&(a&&"directory"===n.contentType?await r.execute(a.openPath,{path:t}):await r.execute("docmanager:open",{path:t,factory:n.factory}))},label:e=>{const n=e.recent;return n?u.PathExt.joinWithLeadingSlash(n.root,n.path):i.__("Open a Recent Document (given by `recent` argument)")},isEnabled:e=>n.recentlyOpened.includes(e.recent)}),e.commands.addCommand(R.reopenLast,{execute:async()=>{const e=n.recentlyClosed[0];e&&await l(e)&&(await r.execute("docmanager:open",{path:e.path,factory:e.factory}),n.removeRecent(e,"closed"))},label:()=>{const e=n.recentlyClosed[0];return e?i.__("Reopen %1",e.path):i.__("Reopen Closed Document")},isEnabled:()=>0!==n.recentlyClosed.length,caption:i.__("Reopen recently closed file or notebook.")});const m=new O({commands:r,manager:n,showDirectories:o});m.title.label=i.__("Open Recent"),t.fileMenu.addItem({type:"submenu",submenu:m,rank:1})}},L="@jupyterlab/mainmenu-extension:plugin";var U;!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(U||(U={}));const N={id:L,description:"Adds and provides the application main menu.",requires:[r.z$,K.sQ],optional:[o.kn,i.V,x.X],provides:m.I,activate:async(e,n,t,s,r,i)=>{const{commands:o}=e,l=t.load("jupyterlab"),m=new A(o);m.id="jp-MainMenu",m.addClass("jp-scrollbar-tiny"),i&&(await W.loadSettingsMenu(i,(e=>{m.addMenu(e,!1,{rank:e.rank})}),(e=>A.generateMenu(o,e,l)),t),m.update());const c=u.PageConfig.getOption("quitButton").toLowerCase();m.fileMenu.quitEntry="true"===c,function(e,n,t){const{commands:s,shell:r}=e;(0,a.addSemanticCommand)({id:U.undo,commands:s,shell:r,semanticCommands:n.undoers.undo,default:{label:t.__("Undo")},trans:t}),(0,a.addSemanticCommand)({id:U.redo,commands:s,shell:r,semanticCommands:n.undoers.redo,default:{label:t.__("Redo")},trans:t}),(0,a.addSemanticCommand)({id:U.clearCurrent,commands:s,shell:r,semanticCommands:n.clearers.clearCurrent,default:{label:t.__("Clear")},trans:t}),(0,a.addSemanticCommand)({id:U.clearAll,commands:s,shell:r,semanticCommands:n.clearers.clearAll,default:{label:t.__("Clear All")},trans:t}),(0,a.addSemanticCommand)({id:U.goToLine,commands:s,shell:r,semanticCommands:n.goToLiners,default:{label:t.__("Go to Line…")},trans:t})}(e,m.editMenu,l),function(e,n,t,s){const{commands:r,shell:i}=e;(0,a.addSemanticCommand)({id:U.closeAndCleanup,commands:r,shell:i,semanticCommands:n.closeAndCleaners,default:{execute:"application:close",label:s.__("Close and Shut Down"),isEnabled:!0},overrides:{isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable},trans:s}),(0,a.addSemanticCommand)({id:U.createConsole,commands:r,shell:i,semanticCommands:n.consoleCreators,default:{label:s.__("New Console for Activity")},trans:s}),r.addCommand(U.shutdown,{label:s.__("Shut Down"),caption:s.__("Shut down %1",e.name),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,d.ui)({title:s.__("Shutdown confirmation"),body:s.__("Please confirm you want to shut down %1.",e.name),buttons:[d.lG.cancelButton(),d.lG.warnButton({label:s.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=S.ServerConnection.makeSettings(),t=u.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return S.ServerConnection.makeRequest(t,{method:"POST"},n).then((n=>{if(!n.ok)throw new S.ServerConnection.ResponseError(n);{const n=document.createElement("div"),t=document.createElement("p");t.textContent=s.__("You have shut down the Jupyter server. You can now close this tab.");const a=document.createElement("p");a.textContent=s.__("To use %1 again, you will need to relaunch it.",e.name),n.appendChild(t),n.appendChild(a),(0,d.ui)({title:s.__("Server stopped"),body:new _.x0({node:n}),buttons:[]}),window.close()}})).catch((e=>{throw new S.ServerConnection.NetworkError(e)}))}}))}),r.addCommand(U.logout,{label:s.__("Log Out"),caption:s.__("Log out of %1",e.name),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}(e,m.fileMenu,n,l),function(e,n,t){const{commands:s,shell:r}=e;(0,a.addSemanticCommand)({id:U.interruptKernel,commands:s,shell:r,semanticCommands:n.kernelUsers.interruptKernel,default:{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},overrides:{icon:e=>e.toolbar?E.mU:void 0},trans:t}),(0,a.addSemanticCommand)({id:U.reconnectToKernel,commands:s,shell:r,semanticCommands:n.kernelUsers.reconnectToKernel,default:{label:t.__("Reconnect to Kernel")},trans:t}),(0,a.addSemanticCommand)({id:U.restartKernel,commands:s,shell:r,semanticCommands:n.kernelUsers.restartKernel,default:{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},overrides:{icon:e=>e.toolbar?E.he:void 0},trans:t}),(0,a.addSemanticCommand)({id:U.restartKernelAndClear,commands:s,shell:r,semanticCommands:[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],default:{label:t.__("Restart Kernel and Clear…")},trans:t}),(0,a.addSemanticCommand)({id:U.changeKernel,commands:s,shell:r,semanticCommands:n.kernelUsers.changeKernel,default:{label:t.__("Change Kernel…")},trans:t}),(0,a.addSemanticCommand)({id:U.shutdownKernel,commands:s,shell:r,semanticCommands:n.kernelUsers.shutdownKernel,default:{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},trans:t}),s.addCommand(U.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,execute:()=>(0,d.ui)({title:t.__("Shut Down All?"),body:t._n("Are you sure you want to permanently shut down the running kernel?","Are you sure you want to permanently shut down the %1 running kernels?",e.serviceManager.kernels.runningCount),buttons:[d.lG.cancelButton(),d.lG.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}(e,m.kernelMenu,l),function(e,n,t){const{commands:s,shell:r}=e;(0,a.addSemanticCommand)({id:U.run,commands:s,shell:r,semanticCommands:n.codeRunners.run,default:{label:t.__("Run Selected"),caption:t.__("Run Selected")},overrides:{icon:e=>e.toolbar?E.J7:void 0},trans:t}),(0,a.addSemanticCommand)({id:U.runAll,commands:s,shell:r,semanticCommands:n.codeRunners.runAll,default:{label:t.__("Run All"),caption:t.__("Run All")},trans:t}),(0,a.addSemanticCommand)({id:U.restartAndRunAll,commands:s,shell:r,semanticCommands:[n.codeRunners.restart,n.codeRunners.runAll],default:{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},overrides:{icon:e=>e.toolbar?E.$7:void 0},trans:t})}(e,m.runMenu,l),function(e,n,t){const{commands:s,shell:r}=e;(0,a.addSemanticCommand)({id:U.lineNumbering,commands:s,shell:r,semanticCommands:n.editorViewers.toggleLineNumbers,default:{label:t.__("Show Line Numbers")},trans:t}),(0,a.addSemanticCommand)({id:U.matchBrackets,commands:s,shell:r,semanticCommands:n.editorViewers.toggleMatchBrackets,default:{label:t.__("Match Brackets")},trans:t}),(0,a.addSemanticCommand)({id:U.wordWrap,commands:s,shell:r,semanticCommands:n.editorViewers.toggleWordWrap,default:{label:t.__("Wrap Words")},trans:t})}(e,m.viewMenu,l),function(e,n,t){const{commands:s,shell:r}=e;(0,a.addSemanticCommand)({id:U.getKernel,commands:s,shell:r,semanticCommands:n.getKernel,default:{label:t.__("Get Kernel"),isVisible:!1},trans:t})}(e,m.helpMenu,l),r&&function(e,n,t,a){const s=e.commands,r=[];let i;s.addCommand(U.activateById,{label:n=>{if(void 0===n.id)return a.__("Activate a widget by its `id`.");const t=n.id||"",s=(0,p.I6)(e.shell.widgets("main"),(e=>e.id===t));return s&&s.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let o="";s.addCommand(U.activatePreviouslyUsedTab,{label:a.__("Activate Previously Used Tab"),isEnabled:()=>!!o,execute:()=>s.execute(U.activateById,{id:o})}),t&&e.restored.then((()=>{const a=()=>{i&&!i.isDisposed&&i.dispose(),r.length=0;let t=!1;for(const n of e.shell.widgets("main"))n.id===o&&(t=!0),r.push({command:U.activateById,args:{id:n.id}});i=n.addGroup(r,1),o=t?o:""};a(),t.layoutModified.connect((()=>{a()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(o=t.id)}))}))}(e,m.tabsMenu,r,l);const h=e=>{m.activeMenu=e,m.openActiveMenu()};return o.addCommand(U.openEdit,{label:l.__("Open Edit Menu"),execute:()=>h(m.editMenu)}),o.addCommand(U.openFile,{label:l.__("Open File Menu"),execute:()=>h(m.fileMenu)}),o.addCommand(U.openKernel,{label:l.__("Open Kernel Menu"),execute:()=>h(m.kernelMenu)}),o.addCommand(U.openRun,{label:l.__("Open Run Menu"),execute:()=>h(m.runMenu)}),o.addCommand(U.openView,{label:l.__("Open View Menu"),execute:()=>h(m.viewMenu)}),o.addCommand(U.openSettings,{label:l.__("Open Settings Menu"),execute:()=>h(m.settingsMenu)}),o.addCommand(U.openTabs,{label:l.__("Open Tabs Menu"),execute:()=>h(m.tabsMenu)}),o.addCommand(U.openHelp,{label:l.__("Open Help Menu"),execute:()=>h(m.helpMenu)}),o.addCommand(U.openFirst,{label:l.__("Open First Menu"),execute:()=>{m.activeIndex=0,m.openActiveMenu()}}),s&&(s.addItem({command:U.shutdown,category:l.__("Main Area")}),s.addItem({command:U.logout,category:l.__("Main Area")}),s.addItem({command:U.shutdownAllKernels,category:l.__("Kernel Operations")}),s.addItem({command:U.activatePreviouslyUsedTab,category:l.__("Main Area")})),e.shell.add(m,"menu",{rank:100}),m}},F=[N,B];var W;!function(e){async function n(e){(await(0,d.ui)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[d.lG.cancelButton(),d.lG.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,a,s){var r;const i=s.load("jupyterlab");let o=null,d={};function u(n){var t,a;d={};const s=Object.keys(e.plugins).map((n=>{var t,a;const s=null!==(a=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[];return d[n]=s,s})).concat([null!==(a=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[]]).reduceRight(((e,n)=>I.S8.reconcileMenus(e,n,!0)),n.properties.menus.default);n.properties.menus.default=I.S8.reconcileMenus(s,n.properties.menus.default,!0).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)}))}e.transform(L,{compose:e=>{var n,t,a,s;o||(o=D.JSONExt.deepCopy(e.schema),u(o));const r=null!==(a=null===(t=null===(n=o.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==a?a:[],i={...e.data.user,menus:null!==(s=e.data.user.menus)&&void 0!==s?s:[]},d={...e.data.composite,menus:I.S8.reconcileMenus(r,i.menus)};return e.data={composite:d,user:i},e},fetch:e=>(o||(o=D.JSONExt.deepCopy(e.schema),u(o)),{data:e.data,id:e.id,raw:e.raw,schema:o,version:e.version})});const m=await e.load(L),c=null!==(r=D.JSONExt.deepCopy(m.composite.menus))&&void 0!==r?r:[],h=new Array;l.K.createMenus(c.filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:I.S8.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}})),a).forEach((e=>{h.push(e),t(e)})),m.changed.connect((()=>{var e;const t=null!==(e=m.composite.menus)&&void 0!==e?e:[];D.JSONExt.deepEqual(c,t)||n(i)})),e.pluginChanged.connect((async(s,r)=>{var o,u,m;if(r!==L){const s=null!==(o=d[r])&&void 0!==o?o:[],p=null!==(m=null===(u=e.plugins[r].schema["jupyter.lab.menus"])||void 0===u?void 0:u.main)&&void 0!==m?m:[];if(!D.JSONExt.deepEqual(s,p))if(d[r])await n(i);else{d[r]=D.JSONExt.deepCopy(p);const e=I.S8.reconcileMenus(p,c,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:I.S8.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}}));l.K.updateMenus(h,e,a).forEach((e=>{t(e)}))}}}))}}(W||(W={}))},68704:(e,n,t)=>{t.d(n,{a:()=>a,z:()=>d});var a,s=t(38921),r=t(79246),i=t(72490),o=t(14809);!function(e){e.DEFAULT_RANK=100}(a||(a={}));class d extends o.W1{constructor(e){var n;super(e),this._ranks=[],this._rank=e.rank,this._includeSeparators=null===(n=e.includeSeparators)||void 0===n||n}get rank(){return this._rank}addGroup(e,n){if(0===e.length)return new r.DisposableDelegate((()=>{}));const t=null!=n?n:a.DEFAULT_RANK,s=e.map((e=>{var n;return{...e,rank:null!==(n=e.rank)&&void 0!==n?n:t}})).sort(((e,n)=>e.rank-n.rank));let i=this._ranks.findIndex((e=>s[0].rank<e));i<0&&(i=this._ranks.length);const o=[];return this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),o.push(...s.map((e=>this.insertItem(i++,e)))),this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),new r.DisposableDelegate((()=>{o.forEach((e=>e.dispose()))}))}addItem(e){let n=-1;return e.rank&&(n=this._ranks.findIndex((n=>e.rank<n))),n<0&&(n=this._ranks.length),this.insertItem(n,e)}clearItems(){this._ranks.length=0,super.clearItems()}dispose(){this._ranks.length=0,super.dispose()}getRankAt(e){return this._ranks[e]}insertItem(e,n){var t,r;const i=Math.max(0,Math.min(e,this._ranks.length));s.Rw.insert(this._ranks,i,null!==(t=n.rank)&&void 0!==t?t:Math.max(a.DEFAULT_RANK,null!==(r=this._ranks[this._ranks.length-1])&&void 0!==r?r:a.DEFAULT_RANK));const o=super.insertItem(i,n);return new l(o,this)}removeItemAt(e){s.Rw.removeAt(this._ranks,e),super.removeItemAt(e)}}class l{constructor(e,n){this._item=new WeakRef(e),this._menu=n;const t=e=>{e.disposed.disconnect(t,this),this.dispose()};this._menu.disposed.connect(t,this)}get isDisposed(){return this._isDisposed}get type(){return this._item.deref().type}get command(){return this._item.deref().command}get args(){return this._item.deref().args}get submenu(){return this._item.deref().submenu}get label(){return this._item.deref().label}get mnemonic(){return this._item.deref().mnemonic}get icon(){return this._item.deref().icon}get iconClass(){return this._item.deref().iconClass}get iconLabel(){return this._item.deref().iconLabel}get caption(){return this._item.deref().caption}get className(){return this._item.deref().className}get dataset(){return this._item.deref().dataset}get isEnabled(){return this._item.deref().isEnabled}get isToggled(){return this._item.deref().isToggled}get isVisible(){return this._item.deref().isVisible}get keyBinding(){return this._item.deref().keyBinding}dispose(){if(this._isDisposed)return;this._isDisposed=!0;const e=this._item.deref();e&&!this._menu.isDisposed&&this._menu.removeItem(e),i.Signal.clearData(this)}}}}]);